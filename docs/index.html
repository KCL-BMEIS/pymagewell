<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.2.0"/>
    <title>pymagewell API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>
    <h2>pymagewell v0.1.5</h2>




        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#ProCaptureDevice">ProCaptureDevice</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProCaptureDevice.__init__">ProCaptureDevice</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureDevice.events">events</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureDevice.schedule_timer_event">schedule_timer_event</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureDevice.buffer_status">buffer_status</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureDevice.frame_info">frame_info</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureDevice.signal_status">signal_status</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureDevice.start_grabbing">start_grabbing</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureDevice.stop_grabbing">stop_grabbing</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureDevice.transfer_status">transfer_status</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureDevice.start_a_frame_transfer">start_a_frame_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureDevice.shutdown">shutdown</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MockProCaptureDevice">MockProCaptureDevice</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MockProCaptureDevice.__init__">MockProCaptureDevice</a>
                        </li>
                        <li>
                                <a class="variable" href="#MockProCaptureDevice.events">events</a>
                        </li>
                        <li>
                                <a class="function" href="#MockProCaptureDevice.schedule_timer_event">schedule_timer_event</a>
                        </li>
                        <li>
                                <a class="function" href="#MockProCaptureDevice.start_grabbing">start_grabbing</a>
                        </li>
                        <li>
                                <a class="function" href="#MockProCaptureDevice.stop_grabbing">stop_grabbing</a>
                        </li>
                        <li>
                                <a class="function" href="#MockProCaptureDevice.start_a_frame_transfer">start_a_frame_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#MockProCaptureDevice.shutdown">shutdown</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ProCaptureController">ProCaptureController</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProCaptureController.__init__">ProCaptureController</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureController.transfer_when_ready">transfer_when_ready</a>
                        </li>
                        <li>
                                <a class="function" href="#ProCaptureController.shutdown">shutdown</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ProCaptureSettings">ProCaptureSettings</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ProCaptureSettings.__init__">ProCaptureSettings</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureSettings.dimensions">dimensions</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureSettings.color_format">color_format</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureSettings.transfer_mode">transfer_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#ProCaptureSettings.num_lines_per_chunk">num_lines_per_chunk</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#TransferMode">TransferMode</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#TransferMode.TIMER">TIMER</a>
                        </li>
                        <li>
                                <a class="variable" href="#TransferMode.NORMAL">NORMAL</a>
                        </li>
                        <li>
                                <a class="variable" href="#TransferMode.LOW_LATENCY">LOW_LATENCY</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ImageSizeInPixels">ImageSizeInPixels</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ImageSizeInPixels.__init__">ImageSizeInPixels</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ColourFormat">ColourFormat</a>
                            <ul class="memberlist">
                </ul>

            </li>
    </ul>


    <footer>pymagewell v0.1.5</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
pymagewell    </h1>

                        <div class="docstring"><p><code><a href="">pymagewell</a></code> is a Python library for interfacing with Magewell ProCapture frame grabbers.</p>

<p>It is based on (and includes) Magewell's Windows SDK and is therefore Windows only. However, it provides a mock class
that for testing and development that does not depend on the SDK's Windows .dll files, so <code>pymagwell</code> can also be
installed on macOS and Linux.</p>

<ul>
<li><a href="https://github.com/KCL-BMEIS/pymagewell">GitHub page</a></li>
<li><a href="https://kcl-bmeis.github.io/pymagewell/">API reference documentation</a></li>
<li><a href="https://pypi.org/project/pymagewell/">PyPI page</a></li>
</ul>

<h3 id="installation">Installation</h3>

<div class="pdoc-code codehilite">
<pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pymagewell
</code></pre>
</div>

<h3 id="example-of-use">Example of use</h3>

<p>A full working example is provided in
<a href="https://github.com/KCL-BMEIS/pymagewell/blob/main/example_script.py"><code>example_script.py</code></a>.</p>
</div>

                        <input id="mod-pymagewell-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-pymagewell-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="c1"># Christian Baker, King&#39;s College London</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="c1"># Copyright (c) 2022 School of Biomedical Engineering &amp; Imaging Sciences, King&#39;s College London</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="c1"># Licensed under the MIT. You may obtain a copy at https://opensource.org/licenses/MIT.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="sd">`pymagewell` is a Python library for interfacing with Magewell ProCapture frame grabbers.</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="sd">It is based on (and includes) Magewell&#39;s Windows SDK and is therefore Windows only. However, it provides a mock class</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="sd">that for testing and development that does not depend on the SDK&#39;s Windows .dll files, so `pymagwell` can also be</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="sd">installed on macOS and Linux.</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="sd">* [GitHub page](https://github.com/KCL-BMEIS/pymagewell)</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="sd">* [API reference documentation](https://kcl-bmeis.github.io/pymagewell/)</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="sd">* [PyPI page](https://pypi.org/project/pymagewell/)</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos">14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos">15</span></a><span class="sd">### Installation</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">16</span></a>
</span><span id="L-17"><a href="#L-17"><span class="linenos">17</span></a><span class="sd">```bash</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">18</span></a><span class="sd">pip install pymagewell</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos">19</span></a><span class="sd">```</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos">21</span></a><span class="sd">### Example of use</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">22</span></a>
</span><span id="L-23"><a href="#L-23"><span class="linenos">23</span></a><span class="sd">A full working example is provided in</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">24</span></a><span class="sd">[`example_script.py`](https://github.com/KCL-BMEIS/pymagewell/blob/main/example_script.py).</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">25</span></a>
</span><span id="L-26"><a href="#L-26"><span class="linenos">26</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">27</span></a><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">_version</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">28</span></a><span class="kn">from</span> <span class="nn">.pro_capture_controller</span> <span class="kn">import</span> <span class="n">ProCaptureController</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">29</span></a>
</span><span id="L-30"><a href="#L-30"><span class="linenos">30</span></a><span class="kn">from</span> <span class="nn">.pro_capture_device</span> <span class="kn">import</span> <span class="n">ProCaptureDevice</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">31</span></a><span class="kn">from</span> <span class="nn">.pro_capture_device.device_settings</span> <span class="kn">import</span> <span class="n">ProCaptureSettings</span><span class="p">,</span> <span class="n">TransferMode</span><span class="p">,</span> <span class="n">ImageSizeInPixels</span><span class="p">,</span> <span class="n">ColourFormat</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">32</span></a><span class="kn">from</span> <span class="nn">.pro_capture_device.mock_pro_capture_device</span> <span class="kn">import</span> <span class="n">MockProCaptureDevice</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos">34</span></a><span class="n">__version__</span> <span class="o">=</span> <span class="n">_version</span><span class="o">.</span><span class="n">get_versions</span><span class="p">()[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos">36</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">37</span></a>    <span class="s2">&quot;ProCaptureDevice&quot;</span><span class="p">,</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">38</span></a>    <span class="s2">&quot;MockProCaptureDevice&quot;</span><span class="p">,</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">39</span></a>    <span class="s2">&quot;ProCaptureController&quot;</span><span class="p">,</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">40</span></a>    <span class="s2">&quot;ProCaptureSettings&quot;</span><span class="p">,</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">41</span></a>    <span class="s2">&quot;TransferMode&quot;</span><span class="p">,</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">42</span></a>    <span class="s2">&quot;ImageSizeInPixels&quot;</span><span class="p">,</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">43</span></a>    <span class="s2">&quot;ColourFormat&quot;</span><span class="p">,</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">44</span></a><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="ProCaptureDevice">
                            <input id="ProCaptureDevice-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ProCaptureDevice</span><wbr>(<span class="base">pymagewell.pro_capture_device.pro_capture_device_impl.ProCaptureDeviceImpl</span>, <span class="base">mwcapture.libmwcapture.mw_capture</span>):

                <label class="view-source-button" for="ProCaptureDevice-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice-53"><a href="#ProCaptureDevice-53"><span class="linenos"> 53</span></a><span class="k">class</span> <span class="nc">ProCaptureDevice</span><span class="p">(</span><span class="n">ProCaptureDeviceImpl</span><span class="p">,</span> <span class="n">mw_capture</span><span class="p">):</span>
</span><span id="ProCaptureDevice-54"><a href="#ProCaptureDevice-54"><span class="linenos"> 54</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;`ProCaptureDevice` represents a physical Magewell ProCapture device. It is intended to be controlled by a</span>
</span><span id="ProCaptureDevice-55"><a href="#ProCaptureDevice-55"><span class="linenos"> 55</span></a><span class="sd">    `ProCaptureDeviceController`.</span>
</span><span id="ProCaptureDevice-56"><a href="#ProCaptureDevice-56"><span class="linenos"> 56</span></a>
</span><span id="ProCaptureDevice-57"><a href="#ProCaptureDevice-57"><span class="linenos"> 57</span></a><span class="sd">    ProCaptureDevice configures and initiates frame acquisition and transfer. It is responsible for constructing and</span>
</span><span id="ProCaptureDevice-58"><a href="#ProCaptureDevice-58"><span class="linenos"> 58</span></a><span class="sd">    registering events with the Magewell driver. It also provides methods for accessing information about the video</span>
</span><span id="ProCaptureDevice-59"><a href="#ProCaptureDevice-59"><span class="linenos"> 59</span></a><span class="sd">    source connected to the device. ProCaptureDevice inherits from the `mw_capture` class provided by Magwell&#39;s</span>
</span><span id="ProCaptureDevice-60"><a href="#ProCaptureDevice-60"><span class="linenos"> 60</span></a><span class="sd">    Windows SDK.</span>
</span><span id="ProCaptureDevice-61"><a href="#ProCaptureDevice-61"><span class="linenos"> 61</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-62"><a href="#ProCaptureDevice-62"><span class="linenos"> 62</span></a>
</span><span id="ProCaptureDevice-63"><a href="#ProCaptureDevice-63"><span class="linenos"> 63</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">ProCaptureSettings</span><span class="p">):</span>
</span><span id="ProCaptureDevice-64"><a href="#ProCaptureDevice-64"><span class="linenos"> 64</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-65"><a href="#ProCaptureDevice-65"><span class="linenos"> 65</span></a><span class="sd">        Args:</span>
</span><span id="ProCaptureDevice-66"><a href="#ProCaptureDevice-66"><span class="linenos"> 66</span></a><span class="sd">            settings: A `ProCaptureSettings` object containing the settings for the device.</span>
</span><span id="ProCaptureDevice-67"><a href="#ProCaptureDevice-67"><span class="linenos"> 67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-68"><a href="#ProCaptureDevice-68"><span class="linenos"> 68</span></a>        <span class="n">ProCaptureDeviceImpl</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">)</span>
</span><span id="ProCaptureDevice-69"><a href="#ProCaptureDevice-69"><span class="linenos"> 69</span></a>        <span class="n">mw_capture</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-70"><a href="#ProCaptureDevice-70"><span class="linenos"> 70</span></a>
</span><span id="ProCaptureDevice-71"><a href="#ProCaptureDevice-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_capture_init_instance</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-72"><a href="#ProCaptureDevice-72"><span class="linenos"> 72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_refresh_device</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-73"><a href="#ProCaptureDevice-73"><span class="linenos"> 73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span> <span class="o">=</span> <span class="n">_create_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="ProCaptureDevice-74"><a href="#ProCaptureDevice-74"><span class="linenos"> 74</span></a>
</span><span id="ProCaptureDevice-75"><a href="#ProCaptureDevice-75"><span class="linenos"> 75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span> <span class="o">=</span> <span class="n">DeviceInitTime</span><span class="p">(</span>
</span><span id="ProCaptureDevice-76"><a href="#ProCaptureDevice-76"><span class="linenos"> 76</span></a>            <span class="n">device_time_in_s</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_s</span><span class="p">(),</span> <span class="n">system_time_as_datetime</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ProCaptureDevice-77"><a href="#ProCaptureDevice-77"><span class="linenos"> 77</span></a>        <span class="p">)</span>
</span><span id="ProCaptureDevice-78"><a href="#ProCaptureDevice-78"><span class="linenos"> 78</span></a>
</span><span id="ProCaptureDevice-79"><a href="#ProCaptureDevice-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span> <span class="o">=</span> <span class="n">_FrameTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_timer_event</span><span class="p">(</span><span class="n">TimerEvent</span><span class="p">()))</span>
</span><span id="ProCaptureDevice-80"><a href="#ProCaptureDevice-80"><span class="linenos"> 80</span></a>
</span><span id="ProCaptureDevice-81"><a href="#ProCaptureDevice-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_signal_change_event</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SignalChangeEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_event</span><span class="p">(</span><span class="n">SignalChangeEvent</span><span class="p">()))</span>
</span><span id="ProCaptureDevice-82"><a href="#ProCaptureDevice-82"><span class="linenos"> 82</span></a>
</span><span id="ProCaptureDevice-83"><a href="#ProCaptureDevice-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span> <span class="o">=</span> <span class="n">FrameBufferedEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice-84"><a href="#ProCaptureDevice-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span> <span class="o">=</span> <span class="n">FrameBufferingEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice-85"><a href="#ProCaptureDevice-85"><span class="linenos"> 85</span></a>
</span><span id="ProCaptureDevice-86"><a href="#ProCaptureDevice-86"><span class="linenos"> 86</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">:</span>
</span><span id="ProCaptureDevice-87"><a href="#ProCaptureDevice-87"><span class="linenos"> 87</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">FrameBufferedEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span><span class="p">))</span>
</span><span id="ProCaptureDevice-88"><a href="#ProCaptureDevice-88"><span class="linenos"> 88</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span><span class="p">:</span> <span class="n">TransferCompleteEvent</span> <span class="o">=</span> <span class="n">FrameTransferCompleteEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice-89"><a href="#ProCaptureDevice-89"><span class="linenos"> 89</span></a>
</span><span id="ProCaptureDevice-90"><a href="#ProCaptureDevice-90"><span class="linenos"> 90</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">LOW_LATENCY</span><span class="p">:</span>
</span><span id="ProCaptureDevice-91"><a href="#ProCaptureDevice-91"><span class="linenos"> 91</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">FrameBufferingEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span><span class="p">))</span>
</span><span id="ProCaptureDevice-92"><a href="#ProCaptureDevice-92"><span class="linenos"> 92</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span> <span class="o">=</span> <span class="n">PartialFrameTransferCompleteEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice-93"><a href="#ProCaptureDevice-93"><span class="linenos"> 93</span></a>
</span><span id="ProCaptureDevice-94"><a href="#ProCaptureDevice-94"><span class="linenos"> 94</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">transfer_mode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="ProCaptureDevice-95"><a href="#ProCaptureDevice-95"><span class="linenos"> 95</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span> <span class="o">=</span> <span class="n">FrameTransferCompleteEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice-96"><a href="#ProCaptureDevice-96"><span class="linenos"> 96</span></a>
</span><span id="ProCaptureDevice-97"><a href="#ProCaptureDevice-97"><span class="linenos"> 97</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureDevice-98"><a href="#ProCaptureDevice-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="nf">events</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProCaptureEvents</span><span class="p">:</span>
</span><span id="ProCaptureDevice-99"><a href="#ProCaptureDevice-99"><span class="linenos"> 99</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;events property</span>
</span><span id="ProCaptureDevice-100"><a href="#ProCaptureDevice-100"><span class="linenos">100</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice-101"><a href="#ProCaptureDevice-101"><span class="linenos">101</span></a><span class="sd">            A `ProCaptureEvents` object containing handles to the events generated by the device during frame grabbing.</span>
</span><span id="ProCaptureDevice-102"><a href="#ProCaptureDevice-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-103"><a href="#ProCaptureDevice-103"><span class="linenos">103</span></a>        <span class="k">return</span> <span class="n">ProCaptureEvents</span><span class="p">(</span>
</span><span id="ProCaptureDevice-104"><a href="#ProCaptureDevice-104"><span class="linenos">104</span></a>            <span class="n">transfer_complete</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span><span class="p">,</span>
</span><span id="ProCaptureDevice-105"><a href="#ProCaptureDevice-105"><span class="linenos">105</span></a>            <span class="n">signal_change</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_signal_change_event</span><span class="p">,</span>
</span><span id="ProCaptureDevice-106"><a href="#ProCaptureDevice-106"><span class="linenos">106</span></a>            <span class="n">frame_buffered</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span><span class="p">,</span>
</span><span id="ProCaptureDevice-107"><a href="#ProCaptureDevice-107"><span class="linenos">107</span></a>            <span class="n">frame_buffering</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span><span class="p">,</span>
</span><span id="ProCaptureDevice-108"><a href="#ProCaptureDevice-108"><span class="linenos">108</span></a>            <span class="n">timer_event</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">event</span><span class="p">,</span>
</span><span id="ProCaptureDevice-109"><a href="#ProCaptureDevice-109"><span class="linenos">109</span></a>        <span class="p">)</span>
</span><span id="ProCaptureDevice-110"><a href="#ProCaptureDevice-110"><span class="linenos">110</span></a>
</span><span id="ProCaptureDevice-111"><a href="#ProCaptureDevice-111"><span class="linenos">111</span></a>    <span class="k">def</span> <span class="nf">_register_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">RegisterableEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">RegisterableEvent</span><span class="p">:</span>
</span><span id="ProCaptureDevice-112"><a href="#ProCaptureDevice-112"><span class="linenos">112</span></a>        <span class="n">notification_handle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_register_notify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">win32_event</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">registration_token</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-113"><a href="#ProCaptureDevice-113"><span class="linenos">113</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Notification</span><span class="p">(</span><span class="n">notification_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))</span>
</span><span id="ProCaptureDevice-114"><a href="#ProCaptureDevice-114"><span class="linenos">114</span></a>        <span class="k">return</span> <span class="n">event</span>
</span><span id="ProCaptureDevice-115"><a href="#ProCaptureDevice-115"><span class="linenos">115</span></a>
</span><span id="ProCaptureDevice-116"><a href="#ProCaptureDevice-116"><span class="linenos">116</span></a>    <span class="k">def</span> <span class="nf">_register_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">TimerEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TimerEvent</span><span class="p">:</span>
</span><span id="ProCaptureDevice-117"><a href="#ProCaptureDevice-117"><span class="linenos">117</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;The _FrameTimer class handles constructing TimerEvents and registering them here.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-118"><a href="#ProCaptureDevice-118"><span class="linenos">118</span></a>        <span class="n">notification_handle</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_register_timer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">win32_event</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-119"><a href="#ProCaptureDevice-119"><span class="linenos">119</span></a>        <span class="n">event</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Notification</span><span class="p">(</span><span class="n">notification_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">))</span>
</span><span id="ProCaptureDevice-120"><a href="#ProCaptureDevice-120"><span class="linenos">120</span></a>        <span class="k">return</span> <span class="n">event</span>
</span><span id="ProCaptureDevice-121"><a href="#ProCaptureDevice-121"><span class="linenos">121</span></a>
</span><span id="ProCaptureDevice-122"><a href="#ProCaptureDevice-122"><span class="linenos">122</span></a>    <span class="k">def</span> <span class="nf">schedule_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice-123"><a href="#ProCaptureDevice-123"><span class="linenos">123</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;For use if the TransferMode is TransferMode.TIMER, this method schedules a timer event to trigger the transfer of the</span>
</span><span id="ProCaptureDevice-124"><a href="#ProCaptureDevice-124"><span class="linenos">124</span></a><span class="sd">        next frame.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-125"><a href="#ProCaptureDevice-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">schedule_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_ticks</span><span class="p">())</span>
</span><span id="ProCaptureDevice-126"><a href="#ProCaptureDevice-126"><span class="linenos">126</span></a>
</span><span id="ProCaptureDevice-127"><a href="#ProCaptureDevice-127"><span class="linenos">127</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureDevice-128"><a href="#ProCaptureDevice-128"><span class="linenos">128</span></a>    <span class="k">def</span> <span class="nf">buffer_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OnDeviceBufferStatus</span><span class="p">:</span>
</span><span id="ProCaptureDevice-129"><a href="#ProCaptureDevice-129"><span class="linenos">129</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;buffer_status property</span>
</span><span id="ProCaptureDevice-130"><a href="#ProCaptureDevice-130"><span class="linenos">130</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice-131"><a href="#ProCaptureDevice-131"><span class="linenos">131</span></a><span class="sd">            A `OnDeviceBufferStatus` object containing information about the device&#39;s buffer.</span>
</span><span id="ProCaptureDevice-132"><a href="#ProCaptureDevice-132"><span class="linenos">132</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-133"><a href="#ProCaptureDevice-133"><span class="linenos">133</span></a>        <span class="n">buffer_info</span> <span class="o">=</span> <span class="n">mwcap_video_buffer_info</span><span class="p">()</span>
</span><span id="ProCaptureDevice-134"><a href="#ProCaptureDevice-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_get_video_buffer_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">buffer_info</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-135"><a href="#ProCaptureDevice-135"><span class="linenos">135</span></a>        <span class="k">return</span> <span class="n">OnDeviceBufferStatus</span><span class="o">.</span><span class="n">from_mwcap_video_buffer_info</span><span class="p">(</span><span class="n">buffer_info</span><span class="p">)</span>
</span><span id="ProCaptureDevice-136"><a href="#ProCaptureDevice-136"><span class="linenos">136</span></a>
</span><span id="ProCaptureDevice-137"><a href="#ProCaptureDevice-137"><span class="linenos">137</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureDevice-138"><a href="#ProCaptureDevice-138"><span class="linenos">138</span></a>    <span class="k">def</span> <span class="nf">frame_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrameInfo</span><span class="p">:</span>
</span><span id="ProCaptureDevice-139"><a href="#ProCaptureDevice-139"><span class="linenos">139</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;frame_info property</span>
</span><span id="ProCaptureDevice-140"><a href="#ProCaptureDevice-140"><span class="linenos">140</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice-141"><a href="#ProCaptureDevice-141"><span class="linenos">141</span></a><span class="sd">            A `FrameInfo` object containing information about the most recent frame.</span>
</span><span id="ProCaptureDevice-142"><a href="#ProCaptureDevice-142"><span class="linenos">142</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-143"><a href="#ProCaptureDevice-143"><span class="linenos">143</span></a>        <span class="n">frame_info</span> <span class="o">=</span> <span class="n">mwcap_video_frame_info</span><span class="p">()</span>
</span><span id="ProCaptureDevice-144"><a href="#ProCaptureDevice-144"><span class="linenos">144</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_get_video_frame_info</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">buffer_status</span><span class="o">.</span><span class="n">last_buffered_frame_index</span><span class="p">,</span> <span class="n">frame_info</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-145"><a href="#ProCaptureDevice-145"><span class="linenos">145</span></a>        <span class="k">return</span> <span class="n">FrameInfo</span><span class="o">.</span><span class="n">from_mwcap_video_frame_info</span><span class="p">(</span><span class="n">frame_info</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span><span class="p">)</span>
</span><span id="ProCaptureDevice-146"><a href="#ProCaptureDevice-146"><span class="linenos">146</span></a>
</span><span id="ProCaptureDevice-147"><a href="#ProCaptureDevice-147"><span class="linenos">147</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureDevice-148"><a href="#ProCaptureDevice-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="nf">signal_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SignalStatus</span><span class="p">:</span>
</span><span id="ProCaptureDevice-149"><a href="#ProCaptureDevice-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;signal_status property</span>
</span><span id="ProCaptureDevice-150"><a href="#ProCaptureDevice-150"><span class="linenos">150</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice-151"><a href="#ProCaptureDevice-151"><span class="linenos">151</span></a><span class="sd">            A `SignalStatus` object containing information about the signal connected to the device.</span>
</span><span id="ProCaptureDevice-152"><a href="#ProCaptureDevice-152"><span class="linenos">152</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-153"><a href="#ProCaptureDevice-153"><span class="linenos">153</span></a>        <span class="n">mw_signal_status</span> <span class="o">=</span> <span class="n">mw_video_signal_status</span><span class="p">()</span>
</span><span id="ProCaptureDevice-154"><a href="#ProCaptureDevice-154"><span class="linenos">154</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_get_video_signal_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">mw_signal_status</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-155"><a href="#ProCaptureDevice-155"><span class="linenos">155</span></a>        <span class="k">return</span> <span class="n">SignalStatus</span><span class="o">.</span><span class="n">from_mw_video_signal_status</span><span class="p">(</span><span class="n">mw_signal_status</span><span class="p">)</span>
</span><span id="ProCaptureDevice-156"><a href="#ProCaptureDevice-156"><span class="linenos">156</span></a>
</span><span id="ProCaptureDevice-157"><a href="#ProCaptureDevice-157"><span class="linenos">157</span></a>    <span class="k">def</span> <span class="nf">start_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice-158"><a href="#ProCaptureDevice-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Starts the hardware acquiring frames.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-159"><a href="#ProCaptureDevice-159"><span class="linenos">159</span></a>        <span class="n">start_capture_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_start_video_capture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">transfer_complete</span><span class="o">.</span><span class="n">win32_event</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-160"><a href="#ProCaptureDevice-160"><span class="linenos">160</span></a>        <span class="k">if</span> <span class="n">start_capture_result</span> <span class="o">!=</span> <span class="n">MW_SUCCEEDED</span><span class="p">:</span>
</span><span id="ProCaptureDevice-161"><a href="#ProCaptureDevice-161"><span class="linenos">161</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Start capture failed (error code </span><span class="si">{</span><span class="n">start_capture_result</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-162"><a href="#ProCaptureDevice-162"><span class="linenos">162</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
</span><span id="ProCaptureDevice-163"><a href="#ProCaptureDevice-163"><span class="linenos">163</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Input signal status: None&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-164"><a href="#ProCaptureDevice-164"><span class="linenos">164</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">UNSUPPORTED</span><span class="p">:</span>
</span><span id="ProCaptureDevice-165"><a href="#ProCaptureDevice-165"><span class="linenos">165</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Input signal status: Unsupported&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-166"><a href="#ProCaptureDevice-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKING</span><span class="p">:</span>
</span><span id="ProCaptureDevice-167"><a href="#ProCaptureDevice-167"><span class="linenos">167</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Input signal status: Locking&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-168"><a href="#ProCaptureDevice-168"><span class="linenos">168</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKED</span><span class="p">:</span>
</span><span id="ProCaptureDevice-169"><a href="#ProCaptureDevice-169"><span class="linenos">169</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Input signal status: Locked&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-170"><a href="#ProCaptureDevice-170"><span class="linenos">170</span></a>
</span><span id="ProCaptureDevice-171"><a href="#ProCaptureDevice-171"><span class="linenos">171</span></a>        <span class="c1"># Exit if signal not locked</span>
</span><span id="ProCaptureDevice-172"><a href="#ProCaptureDevice-172"><span class="linenos">172</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKED</span><span class="p">:</span>
</span><span id="ProCaptureDevice-173"><a href="#ProCaptureDevice-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mw_stop_video_capture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-174"><a href="#ProCaptureDevice-174"><span class="linenos">174</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span><span id="ProCaptureDevice-175"><a href="#ProCaptureDevice-175"><span class="linenos">175</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="s2">&quot;Signal not locked. It is likely that no video signal is present.&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-176"><a href="#ProCaptureDevice-176"><span class="linenos">176</span></a>
</span><span id="ProCaptureDevice-177"><a href="#ProCaptureDevice-177"><span class="linenos">177</span></a>    <span class="k">def</span> <span class="nf">stop_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice-178"><a href="#ProCaptureDevice-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stops the hardware acquiring frames.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-179"><a href="#ProCaptureDevice-179"><span class="linenos">179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_stop_video_capture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-180"><a href="#ProCaptureDevice-180"><span class="linenos">180</span></a>
</span><span id="ProCaptureDevice-181"><a href="#ProCaptureDevice-181"><span class="linenos">181</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureDevice-182"><a href="#ProCaptureDevice-182"><span class="linenos">182</span></a>    <span class="k">def</span> <span class="nf">transfer_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransferStatus</span><span class="p">:</span>
</span><span id="ProCaptureDevice-183"><a href="#ProCaptureDevice-183"><span class="linenos">183</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;transfer_status property</span>
</span><span id="ProCaptureDevice-184"><a href="#ProCaptureDevice-184"><span class="linenos">184</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice-185"><a href="#ProCaptureDevice-185"><span class="linenos">185</span></a><span class="sd">            A `TransferStatus` object containing information about the transfer of frames from the device to the PC,</span>
</span><span id="ProCaptureDevice-186"><a href="#ProCaptureDevice-186"><span class="linenos">186</span></a><span class="sd">            including the number of frames transferred, and the number of lines of the current frame that have been</span>
</span><span id="ProCaptureDevice-187"><a href="#ProCaptureDevice-187"><span class="linenos">187</span></a><span class="sd">            transferred.</span>
</span><span id="ProCaptureDevice-188"><a href="#ProCaptureDevice-188"><span class="linenos">188</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-189"><a href="#ProCaptureDevice-189"><span class="linenos">189</span></a>        <span class="n">mw_capture_status</span> <span class="o">=</span> <span class="n">mw_video_capture_status</span><span class="p">()</span>
</span><span id="ProCaptureDevice-190"><a href="#ProCaptureDevice-190"><span class="linenos">190</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_get_video_capture_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">mw_capture_status</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-191"><a href="#ProCaptureDevice-191"><span class="linenos">191</span></a>        <span class="k">return</span> <span class="n">TransferStatus</span><span class="o">.</span><span class="n">from_mw_video_capture_status</span><span class="p">(</span><span class="n">mw_capture_status</span><span class="p">)</span>
</span><span id="ProCaptureDevice-192"><a href="#ProCaptureDevice-192"><span class="linenos">192</span></a>
</span><span id="ProCaptureDevice-193"><a href="#ProCaptureDevice-193"><span class="linenos">193</span></a>    <span class="k">def</span> <span class="nf">_get_device_time_in_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">mw_device_time</span><span class="p">:</span>
</span><span id="ProCaptureDevice-194"><a href="#ProCaptureDevice-194"><span class="linenos">194</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Read a timestamp from the device.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-195"><a href="#ProCaptureDevice-195"><span class="linenos">195</span></a>        <span class="n">time</span> <span class="o">=</span> <span class="n">mw_device_time</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-196"><a href="#ProCaptureDevice-196"><span class="linenos">196</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_get_device_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="n">time</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-197"><a href="#ProCaptureDevice-197"><span class="linenos">197</span></a>        <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="n">MW_SUCCEEDED</span><span class="p">:</span>
</span><span id="ProCaptureDevice-198"><a href="#ProCaptureDevice-198"><span class="linenos">198</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="s2">&quot;Failed to read time from device&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-199"><a href="#ProCaptureDevice-199"><span class="linenos">199</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureDevice-200"><a href="#ProCaptureDevice-200"><span class="linenos">200</span></a>            <span class="k">return</span> <span class="n">time</span>
</span><span id="ProCaptureDevice-201"><a href="#ProCaptureDevice-201"><span class="linenos">201</span></a>
</span><span id="ProCaptureDevice-202"><a href="#ProCaptureDevice-202"><span class="linenos">202</span></a>    <span class="k">def</span> <span class="nf">_get_device_time_in_s</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="ProCaptureDevice-203"><a href="#ProCaptureDevice-203"><span class="linenos">203</span></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_ticks</span><span class="p">()</span><span class="o">.</span><span class="n">m_ll_device_time</span><span class="o">.</span><span class="n">value</span><span class="p">)</span> <span class="o">*</span> <span class="n">DEVICE_CLOCK_TICK_PERIOD_IN_SECONDS</span>
</span><span id="ProCaptureDevice-204"><a href="#ProCaptureDevice-204"><span class="linenos">204</span></a>
</span><span id="ProCaptureDevice-205"><a href="#ProCaptureDevice-205"><span class="linenos">205</span></a>    <span class="k">def</span> <span class="nf">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame_buffer</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="n">c_char</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="ProCaptureDevice-206"><a href="#ProCaptureDevice-206"><span class="linenos">206</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;start_a_frame_transfer starts the transfer of lines from the device to a buffer in PC memory.</span>
</span><span id="ProCaptureDevice-207"><a href="#ProCaptureDevice-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="ProCaptureDevice-208"><a href="#ProCaptureDevice-208"><span class="linenos">208</span></a><span class="sd">            frame_buffer (Array[c_char]): A buffer in PC memory to which the lines of the current frame will be</span>
</span><span id="ProCaptureDevice-209"><a href="#ProCaptureDevice-209"><span class="linenos">209</span></a><span class="sd">            transferred.</span>
</span><span id="ProCaptureDevice-210"><a href="#ProCaptureDevice-210"><span class="linenos">210</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice-211"><a href="#ProCaptureDevice-211"><span class="linenos">211</span></a><span class="sd">            The time (datetime.datetime) at which the transfer of the first line of the current frame started.</span>
</span><span id="ProCaptureDevice-212"><a href="#ProCaptureDevice-212"><span class="linenos">212</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-213"><a href="#ProCaptureDevice-213"><span class="linenos">213</span></a>        <span class="n">in_low_latency_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">LOW_LATENCY</span>
</span><span id="ProCaptureDevice-214"><a href="#ProCaptureDevice-214"><span class="linenos">214</span></a>        <span class="n">notify_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">num_lines_per_chunk</span> <span class="k">if</span> <span class="n">in_low_latency_mode</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="ProCaptureDevice-215"><a href="#ProCaptureDevice-215"><span class="linenos">215</span></a>
</span><span id="ProCaptureDevice-216"><a href="#ProCaptureDevice-216"><span class="linenos">216</span></a>        <span class="n">seconds_since_init</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_s</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span><span class="o">.</span><span class="n">device_time_in_s</span>
</span><span id="ProCaptureDevice-217"><a href="#ProCaptureDevice-217"><span class="linenos">217</span></a>        <span class="n">frame_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span><span class="o">.</span><span class="n">system_time_as_datetime</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">seconds_since_init</span><span class="p">)</span>
</span><span id="ProCaptureDevice-218"><a href="#ProCaptureDevice-218"><span class="linenos">218</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_capture_video_frame_to_virtual_address_ex</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-219"><a href="#ProCaptureDevice-219"><span class="linenos">219</span></a>            <span class="n">hchannel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span>
</span><span id="ProCaptureDevice-220"><a href="#ProCaptureDevice-220"><span class="linenos">220</span></a>            <span class="n">iframe</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">buffer_status</span><span class="o">.</span><span class="n">last_buffered_frame_index</span><span class="p">,</span>
</span><span id="ProCaptureDevice-221"><a href="#ProCaptureDevice-221"><span class="linenos">221</span></a>            <span class="n">pbframe</span><span class="o">=</span><span class="n">addressof</span><span class="p">(</span><span class="n">frame_buffer</span><span class="p">),</span>
</span><span id="ProCaptureDevice-222"><a href="#ProCaptureDevice-222"><span class="linenos">222</span></a>            <span class="n">cbframe</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">image_size_in_bytes</span><span class="p">,</span>
</span><span id="ProCaptureDevice-223"><a href="#ProCaptureDevice-223"><span class="linenos">223</span></a>            <span class="n">cbstride</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">min_stride</span><span class="p">,</span>
</span><span id="ProCaptureDevice-224"><a href="#ProCaptureDevice-224"><span class="linenos">224</span></a>            <span class="n">bbottomup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># this is True in the C++ example, but false in python example,</span>
</span><span id="ProCaptureDevice-225"><a href="#ProCaptureDevice-225"><span class="linenos">225</span></a>            <span class="n">pvcontext</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-226"><a href="#ProCaptureDevice-226"><span class="linenos">226</span></a>            <span class="n">dwfourcc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">color_format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>  <span class="c1"># color format of captured frames</span>
</span><span id="ProCaptureDevice-227"><a href="#ProCaptureDevice-227"><span class="linenos">227</span></a>            <span class="n">cx</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">cols</span><span class="p">,</span>
</span><span id="ProCaptureDevice-228"><a href="#ProCaptureDevice-228"><span class="linenos">228</span></a>            <span class="n">cy</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
</span><span id="ProCaptureDevice-229"><a href="#ProCaptureDevice-229"><span class="linenos">229</span></a>            <span class="n">dwprocessswitchs</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-230"><a href="#ProCaptureDevice-230"><span class="linenos">230</span></a>            <span class="n">cypartialnotify</span><span class="o">=</span><span class="n">notify_size</span><span class="p">,</span>
</span><span id="ProCaptureDevice-231"><a href="#ProCaptureDevice-231"><span class="linenos">231</span></a>            <span class="n">hosdimage</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-232"><a href="#ProCaptureDevice-232"><span class="linenos">232</span></a>            <span class="n">posdrects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-233"><a href="#ProCaptureDevice-233"><span class="linenos">233</span></a>            <span class="n">cosdrects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-234"><a href="#ProCaptureDevice-234"><span class="linenos">234</span></a>            <span class="n">scontrast</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ProCaptureDevice-235"><a href="#ProCaptureDevice-235"><span class="linenos">235</span></a>            <span class="n">sbrightness</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-236"><a href="#ProCaptureDevice-236"><span class="linenos">236</span></a>            <span class="n">ssaturation</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ProCaptureDevice-237"><a href="#ProCaptureDevice-237"><span class="linenos">237</span></a>            <span class="n">shue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-238"><a href="#ProCaptureDevice-238"><span class="linenos">238</span></a>            <span class="n">deinterlacemode</span><span class="o">=</span><span class="n">MWCAP_VIDEO_DEINTERLACE_BLEND</span><span class="p">,</span>
</span><span id="ProCaptureDevice-239"><a href="#ProCaptureDevice-239"><span class="linenos">239</span></a>            <span class="n">aspectratioconvertmode</span><span class="o">=</span><span class="n">MWCAP_VIDEO_ASPECT_RATIO_CROPPING</span><span class="p">,</span>
</span><span id="ProCaptureDevice-240"><a href="#ProCaptureDevice-240"><span class="linenos">240</span></a>            <span class="n">prectsrc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>  <span class="c1"># 0 in C++ example, but configured using CLIP settings in python example,</span>
</span><span id="ProCaptureDevice-241"><a href="#ProCaptureDevice-241"><span class="linenos">241</span></a>            <span class="n">prectdest</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-242"><a href="#ProCaptureDevice-242"><span class="linenos">242</span></a>            <span class="n">naspectx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-243"><a href="#ProCaptureDevice-243"><span class="linenos">243</span></a>            <span class="n">naspecty</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice-244"><a href="#ProCaptureDevice-244"><span class="linenos">244</span></a>            <span class="n">colorformat</span><span class="o">=</span><span class="n">MWCAP_VIDEO_COLOR_FORMAT_UNKNOWN</span><span class="p">,</span>
</span><span id="ProCaptureDevice-245"><a href="#ProCaptureDevice-245"><span class="linenos">245</span></a>            <span class="n">quantrange</span><span class="o">=</span><span class="n">MWCAP_VIDEO_QUANTIZATION_UNKNOWN</span><span class="p">,</span>
</span><span id="ProCaptureDevice-246"><a href="#ProCaptureDevice-246"><span class="linenos">246</span></a>            <span class="n">satrange</span><span class="o">=</span><span class="n">MWCAP_VIDEO_SATURATION_UNKNOWN</span><span class="p">,</span>
</span><span id="ProCaptureDevice-247"><a href="#ProCaptureDevice-247"><span class="linenos">247</span></a>        <span class="p">)</span>
</span><span id="ProCaptureDevice-248"><a href="#ProCaptureDevice-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="n">MW_SUCCEEDED</span><span class="p">:</span>
</span><span id="ProCaptureDevice-249"><a href="#ProCaptureDevice-249"><span class="linenos">249</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frame grab failed with error code </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice-250"><a href="#ProCaptureDevice-250"><span class="linenos">250</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureDevice-251"><a href="#ProCaptureDevice-251"><span class="linenos">251</span></a>            <span class="k">return</span> <span class="n">frame_timestamp</span>
</span><span id="ProCaptureDevice-252"><a href="#ProCaptureDevice-252"><span class="linenos">252</span></a>
</span><span id="ProCaptureDevice-253"><a href="#ProCaptureDevice-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice-254"><a href="#ProCaptureDevice-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;shutdown releases the hardware resources used by the device.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice-255"><a href="#ProCaptureDevice-255"><span class="linenos">255</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span><span id="ProCaptureDevice-256"><a href="#ProCaptureDevice-256"><span class="linenos">256</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_signal_change_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice-257"><a href="#ProCaptureDevice-257"><span class="linenos">257</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice-258"><a href="#ProCaptureDevice-258"><span class="linenos">258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice-259"><a href="#ProCaptureDevice-259"><span class="linenos">259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice-260"><a href="#ProCaptureDevice-260"><span class="linenos">260</span></a>
</span><span id="ProCaptureDevice-261"><a href="#ProCaptureDevice-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_close_channel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice-262"><a href="#ProCaptureDevice-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_capture_exit_instance</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span></pre></div>


            <div class="docstring"><p><code><a href="#ProCaptureDevice">ProCaptureDevice</a></code> represents a physical Magewell ProCapture device. It is intended to be controlled by a
<code>ProCaptureDeviceController</code>.</p>

<p>ProCaptureDevice configures and initiates frame acquisition and transfer. It is responsible for constructing and
registering events with the Magewell driver. It also provides methods for accessing information about the video
source connected to the device. ProCaptureDevice inherits from the <code>mw_capture</code> class provided by Magwell's
Windows SDK.</p>
</div>


                            <div id="ProCaptureDevice.__init__" class="classattr">
                                        <input id="ProCaptureDevice.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ProCaptureDevice</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">settings</span><span class="p">:</span> <span class="n"><a href="#ProCaptureSettings">pymagewell.ProCaptureSettings</a></span></span>)</span>

                <label class="view-source-button" for="ProCaptureDevice.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice.__init__-63"><a href="#ProCaptureDevice.__init__-63"><span class="linenos">63</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">ProCaptureSettings</span><span class="p">):</span>
</span><span id="ProCaptureDevice.__init__-64"><a href="#ProCaptureDevice.__init__-64"><span class="linenos">64</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.__init__-65"><a href="#ProCaptureDevice.__init__-65"><span class="linenos">65</span></a><span class="sd">        Args:</span>
</span><span id="ProCaptureDevice.__init__-66"><a href="#ProCaptureDevice.__init__-66"><span class="linenos">66</span></a><span class="sd">            settings: A `ProCaptureSettings` object containing the settings for the device.</span>
</span><span id="ProCaptureDevice.__init__-67"><a href="#ProCaptureDevice.__init__-67"><span class="linenos">67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.__init__-68"><a href="#ProCaptureDevice.__init__-68"><span class="linenos">68</span></a>        <span class="n">ProCaptureDeviceImpl</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">)</span>
</span><span id="ProCaptureDevice.__init__-69"><a href="#ProCaptureDevice.__init__-69"><span class="linenos">69</span></a>        <span class="n">mw_capture</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.__init__-70"><a href="#ProCaptureDevice.__init__-70"><span class="linenos">70</span></a>
</span><span id="ProCaptureDevice.__init__-71"><a href="#ProCaptureDevice.__init__-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_capture_init_instance</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.__init__-72"><a href="#ProCaptureDevice.__init__-72"><span class="linenos">72</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_refresh_device</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.__init__-73"><a href="#ProCaptureDevice.__init__-73"><span class="linenos">73</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span> <span class="o">=</span> <span class="n">_create_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="ProCaptureDevice.__init__-74"><a href="#ProCaptureDevice.__init__-74"><span class="linenos">74</span></a>
</span><span id="ProCaptureDevice.__init__-75"><a href="#ProCaptureDevice.__init__-75"><span class="linenos">75</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span> <span class="o">=</span> <span class="n">DeviceInitTime</span><span class="p">(</span>
</span><span id="ProCaptureDevice.__init__-76"><a href="#ProCaptureDevice.__init__-76"><span class="linenos">76</span></a>            <span class="n">device_time_in_s</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_s</span><span class="p">(),</span> <span class="n">system_time_as_datetime</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ProCaptureDevice.__init__-77"><a href="#ProCaptureDevice.__init__-77"><span class="linenos">77</span></a>        <span class="p">)</span>
</span><span id="ProCaptureDevice.__init__-78"><a href="#ProCaptureDevice.__init__-78"><span class="linenos">78</span></a>
</span><span id="ProCaptureDevice.__init__-79"><a href="#ProCaptureDevice.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span> <span class="o">=</span> <span class="n">_FrameTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_timer_event</span><span class="p">(</span><span class="n">TimerEvent</span><span class="p">()))</span>
</span><span id="ProCaptureDevice.__init__-80"><a href="#ProCaptureDevice.__init__-80"><span class="linenos">80</span></a>
</span><span id="ProCaptureDevice.__init__-81"><a href="#ProCaptureDevice.__init__-81"><span class="linenos">81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_signal_change_event</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">SignalChangeEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_event</span><span class="p">(</span><span class="n">SignalChangeEvent</span><span class="p">()))</span>
</span><span id="ProCaptureDevice.__init__-82"><a href="#ProCaptureDevice.__init__-82"><span class="linenos">82</span></a>
</span><span id="ProCaptureDevice.__init__-83"><a href="#ProCaptureDevice.__init__-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span> <span class="o">=</span> <span class="n">FrameBufferedEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice.__init__-84"><a href="#ProCaptureDevice.__init__-84"><span class="linenos">84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span> <span class="o">=</span> <span class="n">FrameBufferingEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice.__init__-85"><a href="#ProCaptureDevice.__init__-85"><span class="linenos">85</span></a>
</span><span id="ProCaptureDevice.__init__-86"><a href="#ProCaptureDevice.__init__-86"><span class="linenos">86</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">:</span>
</span><span id="ProCaptureDevice.__init__-87"><a href="#ProCaptureDevice.__init__-87"><span class="linenos">87</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">FrameBufferedEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span><span class="p">))</span>
</span><span id="ProCaptureDevice.__init__-88"><a href="#ProCaptureDevice.__init__-88"><span class="linenos">88</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span><span class="p">:</span> <span class="n">TransferCompleteEvent</span> <span class="o">=</span> <span class="n">FrameTransferCompleteEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice.__init__-89"><a href="#ProCaptureDevice.__init__-89"><span class="linenos">89</span></a>
</span><span id="ProCaptureDevice.__init__-90"><a href="#ProCaptureDevice.__init__-90"><span class="linenos">90</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">LOW_LATENCY</span><span class="p">:</span>
</span><span id="ProCaptureDevice.__init__-91"><a href="#ProCaptureDevice.__init__-91"><span class="linenos">91</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">FrameBufferingEvent</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_register_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span><span class="p">))</span>
</span><span id="ProCaptureDevice.__init__-92"><a href="#ProCaptureDevice.__init__-92"><span class="linenos">92</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span> <span class="o">=</span> <span class="n">PartialFrameTransferCompleteEvent</span><span class="p">()</span>
</span><span id="ProCaptureDevice.__init__-93"><a href="#ProCaptureDevice.__init__-93"><span class="linenos">93</span></a>
</span><span id="ProCaptureDevice.__init__-94"><a href="#ProCaptureDevice.__init__-94"><span class="linenos">94</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">transfer_mode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="ProCaptureDevice.__init__-95"><a href="#ProCaptureDevice.__init__-95"><span class="linenos">95</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span> <span class="o">=</span> <span class="n">FrameTransferCompleteEvent</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>settings:</strong>  A <code><a href="#ProCaptureSettings">ProCaptureSettings</a></code> object containing the settings for the device.</li>
</ul>
</div>


                            </div>
                            <div id="ProCaptureDevice.events" class="classattr">
                                <div class="attr variable">
            <span class="name">events</span><span class="annotation">: pymagewell.pro_capture_device.device_interface.ProCaptureEvents</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureDevice.events"></a>
    
            <div class="docstring"><p>events property</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A <code>ProCaptureEvents</code> object containing handles to the events generated by the device during frame grabbing.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProCaptureDevice.schedule_timer_event" class="classattr">
                                        <input id="ProCaptureDevice.schedule_timer_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">schedule_timer_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ProCaptureDevice.schedule_timer_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice.schedule_timer_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice.schedule_timer_event-122"><a href="#ProCaptureDevice.schedule_timer_event-122"><span class="linenos">122</span></a>    <span class="k">def</span> <span class="nf">schedule_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice.schedule_timer_event-123"><a href="#ProCaptureDevice.schedule_timer_event-123"><span class="linenos">123</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;For use if the TransferMode is TransferMode.TIMER, this method schedules a timer event to trigger the transfer of the</span>
</span><span id="ProCaptureDevice.schedule_timer_event-124"><a href="#ProCaptureDevice.schedule_timer_event-124"><span class="linenos">124</span></a><span class="sd">        next frame.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.schedule_timer_event-125"><a href="#ProCaptureDevice.schedule_timer_event-125"><span class="linenos">125</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">schedule_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_ticks</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>For use if the TransferMode is <a href="#TransferMode.TIMER">TransferMode.TIMER</a>, this method schedules a timer event to trigger the transfer of the
next frame.</p>
</div>


                            </div>
                            <div id="ProCaptureDevice.buffer_status" class="classattr">
                                <div class="attr variable">
            <span class="name">buffer_status</span><span class="annotation">: pymagewell.pro_capture_device.device_status.OnDeviceBufferStatus</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureDevice.buffer_status"></a>
    
            <div class="docstring"><p>buffer_status property</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A <code>OnDeviceBufferStatus</code> object containing information about the device's buffer.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProCaptureDevice.frame_info" class="classattr">
                                <div class="attr variable">
            <span class="name">frame_info</span><span class="annotation">: pymagewell.pro_capture_device.device_status.FrameInfo</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureDevice.frame_info"></a>
    
            <div class="docstring"><p>frame_info property</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A <code>FrameInfo</code> object containing information about the most recent frame.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProCaptureDevice.signal_status" class="classattr">
                                <div class="attr variable">
            <span class="name">signal_status</span><span class="annotation">: pymagewell.pro_capture_device.device_status.SignalStatus</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureDevice.signal_status"></a>
    
            <div class="docstring"><p>signal_status property</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A <code>SignalStatus</code> object containing information about the signal connected to the device.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProCaptureDevice.start_grabbing" class="classattr">
                                        <input id="ProCaptureDevice.start_grabbing-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">start_grabbing</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ProCaptureDevice.start_grabbing-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice.start_grabbing"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice.start_grabbing-157"><a href="#ProCaptureDevice.start_grabbing-157"><span class="linenos">157</span></a>    <span class="k">def</span> <span class="nf">start_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-158"><a href="#ProCaptureDevice.start_grabbing-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Starts the hardware acquiring frames.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.start_grabbing-159"><a href="#ProCaptureDevice.start_grabbing-159"><span class="linenos">159</span></a>        <span class="n">start_capture_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_start_video_capture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">transfer_complete</span><span class="o">.</span><span class="n">win32_event</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.start_grabbing-160"><a href="#ProCaptureDevice.start_grabbing-160"><span class="linenos">160</span></a>        <span class="k">if</span> <span class="n">start_capture_result</span> <span class="o">!=</span> <span class="n">MW_SUCCEEDED</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-161"><a href="#ProCaptureDevice.start_grabbing-161"><span class="linenos">161</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Start capture failed (error code </span><span class="si">{</span><span class="n">start_capture_result</span><span class="si">}</span><span class="s2">).&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_grabbing-162"><a href="#ProCaptureDevice.start_grabbing-162"><span class="linenos">162</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">NONE</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-163"><a href="#ProCaptureDevice.start_grabbing-163"><span class="linenos">163</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Input signal status: None&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_grabbing-164"><a href="#ProCaptureDevice.start_grabbing-164"><span class="linenos">164</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">UNSUPPORTED</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-165"><a href="#ProCaptureDevice.start_grabbing-165"><span class="linenos">165</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Input signal status: Unsupported&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_grabbing-166"><a href="#ProCaptureDevice.start_grabbing-166"><span class="linenos">166</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKING</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-167"><a href="#ProCaptureDevice.start_grabbing-167"><span class="linenos">167</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Input signal status: Locking&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_grabbing-168"><a href="#ProCaptureDevice.start_grabbing-168"><span class="linenos">168</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKED</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-169"><a href="#ProCaptureDevice.start_grabbing-169"><span class="linenos">169</span></a>            <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Input signal status: Locked&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_grabbing-170"><a href="#ProCaptureDevice.start_grabbing-170"><span class="linenos">170</span></a>
</span><span id="ProCaptureDevice.start_grabbing-171"><a href="#ProCaptureDevice.start_grabbing-171"><span class="linenos">171</span></a>        <span class="c1"># Exit if signal not locked</span>
</span><span id="ProCaptureDevice.start_grabbing-172"><a href="#ProCaptureDevice.start_grabbing-172"><span class="linenos">172</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_status</span><span class="o">.</span><span class="n">state</span> <span class="o">!=</span> <span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKED</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_grabbing-173"><a href="#ProCaptureDevice.start_grabbing-173"><span class="linenos">173</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mw_stop_video_capture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.start_grabbing-174"><a href="#ProCaptureDevice.start_grabbing-174"><span class="linenos">174</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span><span id="ProCaptureDevice.start_grabbing-175"><a href="#ProCaptureDevice.start_grabbing-175"><span class="linenos">175</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="s2">&quot;Signal not locked. It is likely that no video signal is present.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Starts the hardware acquiring frames.</p>
</div>


                            </div>
                            <div id="ProCaptureDevice.stop_grabbing" class="classattr">
                                        <input id="ProCaptureDevice.stop_grabbing-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">stop_grabbing</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ProCaptureDevice.stop_grabbing-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice.stop_grabbing"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice.stop_grabbing-177"><a href="#ProCaptureDevice.stop_grabbing-177"><span class="linenos">177</span></a>    <span class="k">def</span> <span class="nf">stop_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice.stop_grabbing-178"><a href="#ProCaptureDevice.stop_grabbing-178"><span class="linenos">178</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Stops the hardware acquiring frames.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.stop_grabbing-179"><a href="#ProCaptureDevice.stop_grabbing-179"><span class="linenos">179</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_stop_video_capture</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span></pre></div>


            <div class="docstring"><p>Stops the hardware acquiring frames.</p>
</div>


                            </div>
                            <div id="ProCaptureDevice.transfer_status" class="classattr">
                                <div class="attr variable">
            <span class="name">transfer_status</span><span class="annotation">: pymagewell.pro_capture_device.device_status.TransferStatus</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureDevice.transfer_status"></a>
    
            <div class="docstring"><p>transfer_status property</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A <code>TransferStatus</code> object containing information about the transfer of frames from the device to the PC,
  including the number of frames transferred, and the number of lines of the current frame that have been
  transferred.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProCaptureDevice.start_a_frame_transfer" class="classattr">
                                        <input id="ProCaptureDevice.start_a_frame_transfer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">start_a_frame_transfer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">frame_buffer</span><span class="p">:</span> <span class="n">_ctypes</span><span class="o">.</span><span class="n">Array</span><span class="p">[</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span>:</span></span>

                <label class="view-source-button" for="ProCaptureDevice.start_a_frame_transfer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice.start_a_frame_transfer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice.start_a_frame_transfer-205"><a href="#ProCaptureDevice.start_a_frame_transfer-205"><span class="linenos">205</span></a>    <span class="k">def</span> <span class="nf">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame_buffer</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="n">c_char</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-206"><a href="#ProCaptureDevice.start_a_frame_transfer-206"><span class="linenos">206</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;start_a_frame_transfer starts the transfer of lines from the device to a buffer in PC memory.</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-207"><a href="#ProCaptureDevice.start_a_frame_transfer-207"><span class="linenos">207</span></a><span class="sd">        Args:</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-208"><a href="#ProCaptureDevice.start_a_frame_transfer-208"><span class="linenos">208</span></a><span class="sd">            frame_buffer (Array[c_char]): A buffer in PC memory to which the lines of the current frame will be</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-209"><a href="#ProCaptureDevice.start_a_frame_transfer-209"><span class="linenos">209</span></a><span class="sd">            transferred.</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-210"><a href="#ProCaptureDevice.start_a_frame_transfer-210"><span class="linenos">210</span></a><span class="sd">        Returns:</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-211"><a href="#ProCaptureDevice.start_a_frame_transfer-211"><span class="linenos">211</span></a><span class="sd">            The time (datetime.datetime) at which the transfer of the first line of the current frame started.</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-212"><a href="#ProCaptureDevice.start_a_frame_transfer-212"><span class="linenos">212</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-213"><a href="#ProCaptureDevice.start_a_frame_transfer-213"><span class="linenos">213</span></a>        <span class="n">in_low_latency_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">LOW_LATENCY</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-214"><a href="#ProCaptureDevice.start_a_frame_transfer-214"><span class="linenos">214</span></a>        <span class="n">notify_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">num_lines_per_chunk</span> <span class="k">if</span> <span class="n">in_low_latency_mode</span> <span class="k">else</span> <span class="mi">0</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-215"><a href="#ProCaptureDevice.start_a_frame_transfer-215"><span class="linenos">215</span></a>
</span><span id="ProCaptureDevice.start_a_frame_transfer-216"><a href="#ProCaptureDevice.start_a_frame_transfer-216"><span class="linenos">216</span></a>        <span class="n">seconds_since_init</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_device_time_in_s</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span><span class="o">.</span><span class="n">device_time_in_s</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-217"><a href="#ProCaptureDevice.start_a_frame_transfer-217"><span class="linenos">217</span></a>        <span class="n">frame_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device_init_time</span><span class="o">.</span><span class="n">system_time_as_datetime</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">seconds_since_init</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-218"><a href="#ProCaptureDevice.start_a_frame_transfer-218"><span class="linenos">218</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mw_capture_video_frame_to_virtual_address_ex</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-219"><a href="#ProCaptureDevice.start_a_frame_transfer-219"><span class="linenos">219</span></a>            <span class="n">hchannel</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-220"><a href="#ProCaptureDevice.start_a_frame_transfer-220"><span class="linenos">220</span></a>            <span class="n">iframe</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">buffer_status</span><span class="o">.</span><span class="n">last_buffered_frame_index</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-221"><a href="#ProCaptureDevice.start_a_frame_transfer-221"><span class="linenos">221</span></a>            <span class="n">pbframe</span><span class="o">=</span><span class="n">addressof</span><span class="p">(</span><span class="n">frame_buffer</span><span class="p">),</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-222"><a href="#ProCaptureDevice.start_a_frame_transfer-222"><span class="linenos">222</span></a>            <span class="n">cbframe</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">image_size_in_bytes</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-223"><a href="#ProCaptureDevice.start_a_frame_transfer-223"><span class="linenos">223</span></a>            <span class="n">cbstride</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">min_stride</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-224"><a href="#ProCaptureDevice.start_a_frame_transfer-224"><span class="linenos">224</span></a>            <span class="n">bbottomup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># this is True in the C++ example, but false in python example,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-225"><a href="#ProCaptureDevice.start_a_frame_transfer-225"><span class="linenos">225</span></a>            <span class="n">pvcontext</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-226"><a href="#ProCaptureDevice.start_a_frame_transfer-226"><span class="linenos">226</span></a>            <span class="n">dwfourcc</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">color_format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>  <span class="c1"># color format of captured frames</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-227"><a href="#ProCaptureDevice.start_a_frame_transfer-227"><span class="linenos">227</span></a>            <span class="n">cx</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">cols</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-228"><a href="#ProCaptureDevice.start_a_frame_transfer-228"><span class="linenos">228</span></a>            <span class="n">cy</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-229"><a href="#ProCaptureDevice.start_a_frame_transfer-229"><span class="linenos">229</span></a>            <span class="n">dwprocessswitchs</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-230"><a href="#ProCaptureDevice.start_a_frame_transfer-230"><span class="linenos">230</span></a>            <span class="n">cypartialnotify</span><span class="o">=</span><span class="n">notify_size</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-231"><a href="#ProCaptureDevice.start_a_frame_transfer-231"><span class="linenos">231</span></a>            <span class="n">hosdimage</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-232"><a href="#ProCaptureDevice.start_a_frame_transfer-232"><span class="linenos">232</span></a>            <span class="n">posdrects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-233"><a href="#ProCaptureDevice.start_a_frame_transfer-233"><span class="linenos">233</span></a>            <span class="n">cosdrects</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-234"><a href="#ProCaptureDevice.start_a_frame_transfer-234"><span class="linenos">234</span></a>            <span class="n">scontrast</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-235"><a href="#ProCaptureDevice.start_a_frame_transfer-235"><span class="linenos">235</span></a>            <span class="n">sbrightness</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-236"><a href="#ProCaptureDevice.start_a_frame_transfer-236"><span class="linenos">236</span></a>            <span class="n">ssaturation</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-237"><a href="#ProCaptureDevice.start_a_frame_transfer-237"><span class="linenos">237</span></a>            <span class="n">shue</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-238"><a href="#ProCaptureDevice.start_a_frame_transfer-238"><span class="linenos">238</span></a>            <span class="n">deinterlacemode</span><span class="o">=</span><span class="n">MWCAP_VIDEO_DEINTERLACE_BLEND</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-239"><a href="#ProCaptureDevice.start_a_frame_transfer-239"><span class="linenos">239</span></a>            <span class="n">aspectratioconvertmode</span><span class="o">=</span><span class="n">MWCAP_VIDEO_ASPECT_RATIO_CROPPING</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-240"><a href="#ProCaptureDevice.start_a_frame_transfer-240"><span class="linenos">240</span></a>            <span class="n">prectsrc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>  <span class="c1"># 0 in C++ example, but configured using CLIP settings in python example,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-241"><a href="#ProCaptureDevice.start_a_frame_transfer-241"><span class="linenos">241</span></a>            <span class="n">prectdest</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-242"><a href="#ProCaptureDevice.start_a_frame_transfer-242"><span class="linenos">242</span></a>            <span class="n">naspectx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-243"><a href="#ProCaptureDevice.start_a_frame_transfer-243"><span class="linenos">243</span></a>            <span class="n">naspecty</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-244"><a href="#ProCaptureDevice.start_a_frame_transfer-244"><span class="linenos">244</span></a>            <span class="n">colorformat</span><span class="o">=</span><span class="n">MWCAP_VIDEO_COLOR_FORMAT_UNKNOWN</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-245"><a href="#ProCaptureDevice.start_a_frame_transfer-245"><span class="linenos">245</span></a>            <span class="n">quantrange</span><span class="o">=</span><span class="n">MWCAP_VIDEO_QUANTIZATION_UNKNOWN</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-246"><a href="#ProCaptureDevice.start_a_frame_transfer-246"><span class="linenos">246</span></a>            <span class="n">satrange</span><span class="o">=</span><span class="n">MWCAP_VIDEO_SATURATION_UNKNOWN</span><span class="p">,</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-247"><a href="#ProCaptureDevice.start_a_frame_transfer-247"><span class="linenos">247</span></a>        <span class="p">)</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-248"><a href="#ProCaptureDevice.start_a_frame_transfer-248"><span class="linenos">248</span></a>        <span class="k">if</span> <span class="n">result</span> <span class="o">!=</span> <span class="n">MW_SUCCEEDED</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-249"><a href="#ProCaptureDevice.start_a_frame_transfer-249"><span class="linenos">249</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Frame grab failed with error code </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-250"><a href="#ProCaptureDevice.start_a_frame_transfer-250"><span class="linenos">250</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureDevice.start_a_frame_transfer-251"><a href="#ProCaptureDevice.start_a_frame_transfer-251"><span class="linenos">251</span></a>            <span class="k">return</span> <span class="n">frame_timestamp</span>
</span></pre></div>


            <div class="docstring"><p>start_a_frame_transfer starts the transfer of lines from the device to a buffer in PC memory.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>frame_buffer (Array[c_char]):</strong>  A buffer in PC memory to which the lines of the current frame will be</li>
<li>transferred.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The time (datetime.datetime) at which the transfer of the first line of the current frame started.</p>
</blockquote>
</div>


                            </div>
                            <div id="ProCaptureDevice.shutdown" class="classattr">
                                        <input id="ProCaptureDevice.shutdown-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">shutdown</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ProCaptureDevice.shutdown-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureDevice.shutdown"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureDevice.shutdown-253"><a href="#ProCaptureDevice.shutdown-253"><span class="linenos">253</span></a>    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureDevice.shutdown-254"><a href="#ProCaptureDevice.shutdown-254"><span class="linenos">254</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;shutdown releases the hardware resources used by the device.&quot;&quot;&quot;</span>
</span><span id="ProCaptureDevice.shutdown-255"><a href="#ProCaptureDevice.shutdown-255"><span class="linenos">255</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span><span id="ProCaptureDevice.shutdown-256"><a href="#ProCaptureDevice.shutdown-256"><span class="linenos">256</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_signal_change_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice.shutdown-257"><a href="#ProCaptureDevice.shutdown-257"><span class="linenos">257</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_complete_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice.shutdown-258"><a href="#ProCaptureDevice.shutdown-258"><span class="linenos">258</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffered_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice.shutdown-259"><a href="#ProCaptureDevice.shutdown-259"><span class="linenos">259</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_buffering_event</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
</span><span id="ProCaptureDevice.shutdown-260"><a href="#ProCaptureDevice.shutdown-260"><span class="linenos">260</span></a>
</span><span id="ProCaptureDevice.shutdown-261"><a href="#ProCaptureDevice.shutdown-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_close_channel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureDevice.shutdown-262"><a href="#ProCaptureDevice.shutdown-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mw_capture_exit_instance</span><span class="p">()</span>  <span class="c1"># type: ignore</span>
</span></pre></div>


            <div class="docstring"><p>shutdown releases the hardware resources used by the device.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>mwcapture.libmwcapture.mw_capture</dt>
                                <dd id="ProCaptureDevice.load_win_funcs" class="function">load_win_funcs</dd>
                <dd id="ProCaptureDevice.mw_capture_init_instance" class="function">mw_capture_init_instance</dd>
                <dd id="ProCaptureDevice.mw_capture_exit_instance" class="function">mw_capture_exit_instance</dd>
                <dd id="ProCaptureDevice.mw_get_version" class="function">mw_get_version</dd>
                <dd id="ProCaptureDevice.mw_refresh_device" class="function">mw_refresh_device</dd>
                <dd id="ProCaptureDevice.mw_get_channel_count" class="function">mw_get_channel_count</dd>
                <dd id="ProCaptureDevice.mw_get_channel_info_by_index" class="function">mw_get_channel_info_by_index</dd>
                <dd id="ProCaptureDevice.mw_get_channel_info" class="function">mw_get_channel_info</dd>
                <dd id="ProCaptureDevice.mw_get_device_path" class="function">mw_get_device_path</dd>
                <dd id="ProCaptureDevice.mw_open_channel_by_path" class="function">mw_open_channel_by_path</dd>
                <dd id="ProCaptureDevice.mw_close_channel" class="function">mw_close_channel</dd>
                <dd id="ProCaptureDevice.mw_create_video_capture" class="function">mw_create_video_capture</dd>
                <dd id="ProCaptureDevice.mw_destory_video_capture" class="function">mw_destory_video_capture</dd>
                <dd id="ProCaptureDevice.mw_create_audio_capture" class="function">mw_create_audio_capture</dd>
                <dd id="ProCaptureDevice.mw_destory_audio_capture" class="function">mw_destory_audio_capture</dd>
                <dd id="ProCaptureDevice.mw_get_video_signal_status" class="function">mw_get_video_signal_status</dd>
                <dd id="ProCaptureDevice.mw_get_audio_signal_status" class="function">mw_get_audio_signal_status</dd>
                <dd id="ProCaptureDevice.mw_get_video_caps" class="function">mw_get_video_caps</dd>
                <dd id="ProCaptureDevice.mw_start_video_capture" class="function">mw_start_video_capture</dd>
                <dd id="ProCaptureDevice.mw_register_notify" class="function">mw_register_notify</dd>
                <dd id="ProCaptureDevice.mw_register_timer" class="function">mw_register_timer</dd>
                <dd id="ProCaptureDevice.mw_get_device_time" class="function">mw_get_device_time</dd>
                <dd id="ProCaptureDevice.mw_pin_video_buffer" class="function">mw_pin_video_buffer</dd>
                <dd id="ProCaptureDevice.mw_schedule_timer" class="function">mw_schedule_timer</dd>
                <dd id="ProCaptureDevice.mw_get_video_buffer_info" class="function">mw_get_video_buffer_info</dd>
                <dd id="ProCaptureDevice.mw_get_video_frame_info" class="function">mw_get_video_frame_info</dd>
                <dd id="ProCaptureDevice.mw_capture_video_frame_to_virtual_address_ex" class="function">mw_capture_video_frame_to_virtual_address_ex</dd>
                <dd id="ProCaptureDevice.mw_unpin_video_buffer" class="function">mw_unpin_video_buffer</dd>
                <dd id="ProCaptureDevice.mw_unregister_notify" class="function">mw_unregister_notify</dd>
                <dd id="ProCaptureDevice.mw_unregister_timer" class="function">mw_unregister_timer</dd>
                <dd id="ProCaptureDevice.mw_stop_video_capture" class="function">mw_stop_video_capture</dd>
                <dd id="ProCaptureDevice.mw_get_video_capture_status" class="function">mw_get_video_capture_status</dd>
                <dd id="ProCaptureDevice.mw_start_audio_capture" class="function">mw_start_audio_capture</dd>
                <dd id="ProCaptureDevice.mw_get_notify_status" class="function">mw_get_notify_status</dd>
                <dd id="ProCaptureDevice.mw_capture_audio_frame" class="function">mw_capture_audio_frame</dd>
                <dd id="ProCaptureDevice.mw_stop_audio_capture" class="function">mw_stop_audio_capture</dd>
                <dd id="ProCaptureDevice.mw_start_video_eco_capture" class="function">mw_start_video_eco_capture</dd>
                <dd id="ProCaptureDevice.mw_get_video_eco_capture_status" class="function">mw_get_video_eco_capture_status</dd>
                <dd id="ProCaptureDevice.mwcapture_set_video_eco_frame" class="function">mwcapture_set_video_eco_frame</dd>
                <dd id="ProCaptureDevice.mw_stop_video_eco_capture" class="function">mw_stop_video_eco_capture</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MockProCaptureDevice">
                            <input id="MockProCaptureDevice-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MockProCaptureDevice</span><wbr>(<span class="base">pymagewell.pro_capture_device.pro_capture_device_impl.ProCaptureDeviceImpl</span>):

                <label class="view-source-button" for="MockProCaptureDevice-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice-52"><a href="#MockProCaptureDevice-52"><span class="linenos"> 52</span></a><span class="k">class</span> <span class="nc">MockProCaptureDevice</span><span class="p">(</span><span class="n">ProCaptureDeviceImpl</span><span class="p">):</span>
</span><span id="MockProCaptureDevice-53"><a href="#MockProCaptureDevice-53"><span class="linenos"> 53</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;MockProCaptureDevice is intended to be used during testing, development and CI in the absence of a hardware frame</span>
</span><span id="MockProCaptureDevice-54"><a href="#MockProCaptureDevice-54"><span class="linenos"> 54</span></a><span class="sd">    grabber or Magewell Windows SDK. Does not require Magewell driver or hardware.</span>
</span><span id="MockProCaptureDevice-55"><a href="#MockProCaptureDevice-55"><span class="linenos"> 55</span></a>
</span><span id="MockProCaptureDevice-56"><a href="#MockProCaptureDevice-56"><span class="linenos"> 56</span></a><span class="sd">    Only TransferMode.Timer is supported.</span>
</span><span id="MockProCaptureDevice-57"><a href="#MockProCaptureDevice-57"><span class="linenos"> 57</span></a>
</span><span id="MockProCaptureDevice-58"><a href="#MockProCaptureDevice-58"><span class="linenos"> 58</span></a><span class="sd">    The class generates test frames. The frame rate is limited to 2 frames per second because copying the mock frames</span>
</span><span id="MockProCaptureDevice-59"><a href="#MockProCaptureDevice-59"><span class="linenos"> 59</span></a><span class="sd">    to a provided PC transfer buffer takes a surprisingly long time (~0.11s).&quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice-60"><a href="#MockProCaptureDevice-60"><span class="linenos"> 60</span></a>
</span><span id="MockProCaptureDevice-61"><a href="#MockProCaptureDevice-61"><span class="linenos"> 61</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">ProCaptureSettings</span><span class="p">):</span>
</span><span id="MockProCaptureDevice-62"><a href="#MockProCaptureDevice-62"><span class="linenos"> 62</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice-63"><a href="#MockProCaptureDevice-63"><span class="linenos"> 63</span></a><span class="sd">        Args:</span>
</span><span id="MockProCaptureDevice-64"><a href="#MockProCaptureDevice-64"><span class="linenos"> 64</span></a><span class="sd">            settings (ProCaptureSettings): The settings to use for the mock device. settings.transfer_mode must be</span>
</span><span id="MockProCaptureDevice-65"><a href="#MockProCaptureDevice-65"><span class="linenos"> 65</span></a><span class="sd">              set to TransferMode.Timer.</span>
</span><span id="MockProCaptureDevice-66"><a href="#MockProCaptureDevice-66"><span class="linenos"> 66</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice-67"><a href="#MockProCaptureDevice-67"><span class="linenos"> 67</span></a>        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">!=</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-68"><a href="#MockProCaptureDevice-68"><span class="linenos"> 68</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;MockProCaptureDevice only works in Timer transfer mode.&quot;</span><span class="p">)</span>
</span><span id="MockProCaptureDevice-69"><a href="#MockProCaptureDevice-69"><span class="linenos"> 69</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</span><span id="MockProCaptureDevice-70"><a href="#MockProCaptureDevice-70"><span class="linenos"> 70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MockProCaptureDevice-71"><a href="#MockProCaptureDevice-71"><span class="linenos"> 71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="n">ProCaptureEvents</span><span class="p">(</span>
</span><span id="MockProCaptureDevice-72"><a href="#MockProCaptureDevice-72"><span class="linenos"> 72</span></a>            <span class="n">transfer_complete</span><span class="o">=</span><span class="n">TransferCompleteEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-73"><a href="#MockProCaptureDevice-73"><span class="linenos"> 73</span></a>            <span class="n">signal_change</span><span class="o">=</span><span class="n">SignalChangeEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-74"><a href="#MockProCaptureDevice-74"><span class="linenos"> 74</span></a>            <span class="n">frame_buffered</span><span class="o">=</span><span class="n">FrameBufferedEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-75"><a href="#MockProCaptureDevice-75"><span class="linenos"> 75</span></a>            <span class="n">frame_buffering</span><span class="o">=</span><span class="n">FrameBufferingEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-76"><a href="#MockProCaptureDevice-76"><span class="linenos"> 76</span></a>            <span class="n">timer_event</span><span class="o">=</span><span class="n">TimerEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-77"><a href="#MockProCaptureDevice-77"><span class="linenos"> 77</span></a>        <span class="p">)</span>
</span><span id="MockProCaptureDevice-78"><a href="#MockProCaptureDevice-78"><span class="linenos"> 78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">signal_change</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Notification</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="MockProCaptureDevice-79"><a href="#MockProCaptureDevice-79"><span class="linenos"> 79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">timer_event</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Notification</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="MockProCaptureDevice-80"><a href="#MockProCaptureDevice-80"><span class="linenos"> 80</span></a>
</span><span id="MockProCaptureDevice-81"><a href="#MockProCaptureDevice-81"><span class="linenos"> 81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mock_timer</span> <span class="o">=</span> <span class="n">_MockTimer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">timer_event</span><span class="p">,</span> <span class="n">MOCK_FRAME_RATE_HZ</span><span class="p">)</span>
</span><span id="MockProCaptureDevice-82"><a href="#MockProCaptureDevice-82"><span class="linenos"> 82</span></a>
</span><span id="MockProCaptureDevice-83"><a href="#MockProCaptureDevice-83"><span class="linenos"> 83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_counter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MockProCaptureDevice-84"><a href="#MockProCaptureDevice-84"><span class="linenos"> 84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mock_frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">create_mock_frame</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUM_TEST_FRAMES</span><span class="p">)]</span>
</span><span id="MockProCaptureDevice-85"><a href="#MockProCaptureDevice-85"><span class="linenos"> 85</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mock_frames</span><span class="p">):</span>
</span><span id="MockProCaptureDevice-86"><a href="#MockProCaptureDevice-86"><span class="linenos"> 86</span></a>            <span class="n">putText</span><span class="p">(</span>
</span><span id="MockProCaptureDevice-87"><a href="#MockProCaptureDevice-87"><span class="linenos"> 87</span></a>                <span class="n">frame</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-88"><a href="#MockProCaptureDevice-88"><span class="linenos"> 88</span></a>                <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
</span><span id="MockProCaptureDevice-89"><a href="#MockProCaptureDevice-89"><span class="linenos"> 89</span></a>                <span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span><span class="p">),</span>
</span><span id="MockProCaptureDevice-90"><a href="#MockProCaptureDevice-90"><span class="linenos"> 90</span></a>                <span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-91"><a href="#MockProCaptureDevice-91"><span class="linenos"> 91</span></a>                <span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-92"><a href="#MockProCaptureDevice-92"><span class="linenos"> 92</span></a>                <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="MockProCaptureDevice-93"><a href="#MockProCaptureDevice-93"><span class="linenos"> 93</span></a>                <span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-94"><a href="#MockProCaptureDevice-94"><span class="linenos"> 94</span></a>                <span class="n">LINE_AA</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-95"><a href="#MockProCaptureDevice-95"><span class="linenos"> 95</span></a>            <span class="p">)</span>
</span><span id="MockProCaptureDevice-96"><a href="#MockProCaptureDevice-96"><span class="linenos"> 96</span></a>
</span><span id="MockProCaptureDevice-97"><a href="#MockProCaptureDevice-97"><span class="linenos"> 97</span></a>    <span class="nd">@property</span>
</span><span id="MockProCaptureDevice-98"><a href="#MockProCaptureDevice-98"><span class="linenos"> 98</span></a>    <span class="k">def</span> <span class="nf">events</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProCaptureEvents</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-99"><a href="#MockProCaptureDevice-99"><span class="linenos"> 99</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;events property</span>
</span><span id="MockProCaptureDevice-100"><a href="#MockProCaptureDevice-100"><span class="linenos">100</span></a><span class="sd">        Returns:</span>
</span><span id="MockProCaptureDevice-101"><a href="#MockProCaptureDevice-101"><span class="linenos">101</span></a><span class="sd">            A `ProCaptureEvents` object containing handles to the events generated by the device during frame grabbing.</span>
</span><span id="MockProCaptureDevice-102"><a href="#MockProCaptureDevice-102"><span class="linenos">102</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice-103"><a href="#MockProCaptureDevice-103"><span class="linenos">103</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_events</span>
</span><span id="MockProCaptureDevice-104"><a href="#MockProCaptureDevice-104"><span class="linenos">104</span></a>
</span><span id="MockProCaptureDevice-105"><a href="#MockProCaptureDevice-105"><span class="linenos">105</span></a>    <span class="k">def</span> <span class="nf">schedule_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-106"><a href="#MockProCaptureDevice-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mock_timer</span><span class="o">.</span><span class="n">schedule_event</span><span class="p">()</span>
</span><span id="MockProCaptureDevice-107"><a href="#MockProCaptureDevice-107"><span class="linenos">107</span></a>
</span><span id="MockProCaptureDevice-108"><a href="#MockProCaptureDevice-108"><span class="linenos">108</span></a>    <span class="nd">@property</span>
</span><span id="MockProCaptureDevice-109"><a href="#MockProCaptureDevice-109"><span class="linenos">109</span></a>    <span class="k">def</span> <span class="nf">buffer_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OnDeviceBufferStatus</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-110"><a href="#MockProCaptureDevice-110"><span class="linenos">110</span></a>        <span class="k">return</span> <span class="n">OnDeviceBufferStatus</span><span class="p">(</span>
</span><span id="MockProCaptureDevice-111"><a href="#MockProCaptureDevice-111"><span class="linenos">111</span></a>            <span class="n">buffer_size_in_frames</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-112"><a href="#MockProCaptureDevice-112"><span class="linenos">112</span></a>            <span class="n">num_chunks_in_buffer</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-113"><a href="#MockProCaptureDevice-113"><span class="linenos">113</span></a>            <span class="n">buffering_field_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-114"><a href="#MockProCaptureDevice-114"><span class="linenos">114</span></a>            <span class="n">last_buffered_field_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-115"><a href="#MockProCaptureDevice-115"><span class="linenos">115</span></a>            <span class="n">last_buffered_frame_index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-116"><a href="#MockProCaptureDevice-116"><span class="linenos">116</span></a>            <span class="n">num_fully_buffered_frames</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-117"><a href="#MockProCaptureDevice-117"><span class="linenos">117</span></a>            <span class="n">num_chunks_being_buffered</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-118"><a href="#MockProCaptureDevice-118"><span class="linenos">118</span></a>        <span class="p">)</span>
</span><span id="MockProCaptureDevice-119"><a href="#MockProCaptureDevice-119"><span class="linenos">119</span></a>
</span><span id="MockProCaptureDevice-120"><a href="#MockProCaptureDevice-120"><span class="linenos">120</span></a>    <span class="nd">@property</span>
</span><span id="MockProCaptureDevice-121"><a href="#MockProCaptureDevice-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="nf">frame_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FrameInfo</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-122"><a href="#MockProCaptureDevice-122"><span class="linenos">122</span></a>        <span class="k">return</span> <span class="n">FrameInfo</span><span class="p">(</span>
</span><span id="MockProCaptureDevice-123"><a href="#MockProCaptureDevice-123"><span class="linenos">123</span></a>            <span class="n">state</span><span class="o">=</span><span class="n">FrameState</span><span class="o">.</span><span class="n">BUFFERED</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-124"><a href="#MockProCaptureDevice-124"><span class="linenos">124</span></a>            <span class="n">interlaced</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-125"><a href="#MockProCaptureDevice-125"><span class="linenos">125</span></a>            <span class="n">segmented</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-126"><a href="#MockProCaptureDevice-126"><span class="linenos">126</span></a>            <span class="n">dimensions</span><span class="o">=</span><span class="n">MOCK_RESOLUTION</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-127"><a href="#MockProCaptureDevice-127"><span class="linenos">127</span></a>            <span class="n">aspect_ratio</span><span class="o">=</span><span class="n">MOCK_ASPECT_RATIO</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-128"><a href="#MockProCaptureDevice-128"><span class="linenos">128</span></a>            <span class="n">buffering_start_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-129"><a href="#MockProCaptureDevice-129"><span class="linenos">129</span></a>            <span class="n">buffering_complete_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice-130"><a href="#MockProCaptureDevice-130"><span class="linenos">130</span></a>        <span class="p">)</span>
</span><span id="MockProCaptureDevice-131"><a href="#MockProCaptureDevice-131"><span class="linenos">131</span></a>
</span><span id="MockProCaptureDevice-132"><a href="#MockProCaptureDevice-132"><span class="linenos">132</span></a>    <span class="nd">@property</span>
</span><span id="MockProCaptureDevice-133"><a href="#MockProCaptureDevice-133"><span class="linenos">133</span></a>    <span class="k">def</span> <span class="nf">signal_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SignalStatus</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-134"><a href="#MockProCaptureDevice-134"><span class="linenos">134</span></a>        <span class="k">return</span> <span class="n">SignalStatus</span><span class="p">(</span>
</span><span id="MockProCaptureDevice-135"><a href="#MockProCaptureDevice-135"><span class="linenos">135</span></a>            <span class="n">state</span><span class="o">=</span><span class="n">SignalState</span><span class="o">.</span><span class="n">LOCKED</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-136"><a href="#MockProCaptureDevice-136"><span class="linenos">136</span></a>            <span class="n">start_position</span><span class="o">=</span><span class="n">ImageCoordinateInPixels</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
</span><span id="MockProCaptureDevice-137"><a href="#MockProCaptureDevice-137"><span class="linenos">137</span></a>            <span class="n">image_dimensions</span><span class="o">=</span><span class="n">MOCK_RESOLUTION</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-138"><a href="#MockProCaptureDevice-138"><span class="linenos">138</span></a>            <span class="n">total_dimensions</span><span class="o">=</span><span class="n">MOCK_RESOLUTION</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-139"><a href="#MockProCaptureDevice-139"><span class="linenos">139</span></a>            <span class="n">interlaced</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-140"><a href="#MockProCaptureDevice-140"><span class="linenos">140</span></a>            <span class="n">frame_period_s</span><span class="o">=</span><span class="mi">1</span> <span class="o">/</span> <span class="n">MOCK_FRAME_RATE_HZ</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-141"><a href="#MockProCaptureDevice-141"><span class="linenos">141</span></a>            <span class="n">aspect_ratio</span><span class="o">=</span><span class="n">MOCK_ASPECT_RATIO</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-142"><a href="#MockProCaptureDevice-142"><span class="linenos">142</span></a>            <span class="n">segmented</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-143"><a href="#MockProCaptureDevice-143"><span class="linenos">143</span></a>        <span class="p">)</span>
</span><span id="MockProCaptureDevice-144"><a href="#MockProCaptureDevice-144"><span class="linenos">144</span></a>
</span><span id="MockProCaptureDevice-145"><a href="#MockProCaptureDevice-145"><span class="linenos">145</span></a>    <span class="nd">@property</span>
</span><span id="MockProCaptureDevice-146"><a href="#MockProCaptureDevice-146"><span class="linenos">146</span></a>    <span class="k">def</span> <span class="nf">transfer_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TransferStatus</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-147"><a href="#MockProCaptureDevice-147"><span class="linenos">147</span></a>        <span class="k">return</span> <span class="n">TransferStatus</span><span class="p">(</span>
</span><span id="MockProCaptureDevice-148"><a href="#MockProCaptureDevice-148"><span class="linenos">148</span></a>            <span class="n">whole_frame_transferred</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-149"><a href="#MockProCaptureDevice-149"><span class="linenos">149</span></a>            <span class="n">num_lines_transferred</span><span class="o">=</span><span class="n">MOCK_RESOLUTION</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-150"><a href="#MockProCaptureDevice-150"><span class="linenos">150</span></a>            <span class="n">num_lines_transferred_previously</span><span class="o">=</span><span class="n">MOCK_RESOLUTION</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-151"><a href="#MockProCaptureDevice-151"><span class="linenos">151</span></a>            <span class="n">frame_index</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="MockProCaptureDevice-152"><a href="#MockProCaptureDevice-152"><span class="linenos">152</span></a>        <span class="p">)</span>
</span><span id="MockProCaptureDevice-153"><a href="#MockProCaptureDevice-153"><span class="linenos">153</span></a>
</span><span id="MockProCaptureDevice-154"><a href="#MockProCaptureDevice-154"><span class="linenos">154</span></a>    <span class="k">def</span> <span class="nf">start_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-155"><a href="#MockProCaptureDevice-155"><span class="linenos">155</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MockProCaptureDevice-156"><a href="#MockProCaptureDevice-156"><span class="linenos">156</span></a>
</span><span id="MockProCaptureDevice-157"><a href="#MockProCaptureDevice-157"><span class="linenos">157</span></a>    <span class="k">def</span> <span class="nf">stop_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-158"><a href="#MockProCaptureDevice-158"><span class="linenos">158</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MockProCaptureDevice-159"><a href="#MockProCaptureDevice-159"><span class="linenos">159</span></a>
</span><span id="MockProCaptureDevice-160"><a href="#MockProCaptureDevice-160"><span class="linenos">160</span></a>    <span class="k">def</span> <span class="nf">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame_buffer</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="n">c_char</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-161"><a href="#MockProCaptureDevice-161"><span class="linenos">161</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;start_a_frame_transfer immediately writes a mock frame to the provided buffer.</span>
</span><span id="MockProCaptureDevice-162"><a href="#MockProCaptureDevice-162"><span class="linenos">162</span></a><span class="sd">        Args:</span>
</span><span id="MockProCaptureDevice-163"><a href="#MockProCaptureDevice-163"><span class="linenos">163</span></a><span class="sd">            frame_buffer (Array[c_char]): The buffer to write the mock frame to.</span>
</span><span id="MockProCaptureDevice-164"><a href="#MockProCaptureDevice-164"><span class="linenos">164</span></a><span class="sd">        Returns:</span>
</span><span id="MockProCaptureDevice-165"><a href="#MockProCaptureDevice-165"><span class="linenos">165</span></a><span class="sd">            The time (datetime.datetime) the frame transfer was completed.</span>
</span><span id="MockProCaptureDevice-166"><a href="#MockProCaptureDevice-166"><span class="linenos">166</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice-167"><a href="#MockProCaptureDevice-167"><span class="linenos">167</span></a>        <span class="n">frame_buffer</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_properties</span><span class="o">.</span><span class="n">size_in_bytes</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mock_frames</span><span class="p">[</span>  <span class="c1"># type: ignore</span>
</span><span id="MockProCaptureDevice-168"><a href="#MockProCaptureDevice-168"><span class="linenos">168</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_counter</span> <span class="o">%</span> <span class="n">NUM_TEST_FRAMES</span>
</span><span id="MockProCaptureDevice-169"><a href="#MockProCaptureDevice-169"><span class="linenos">169</span></a>        <span class="p">]</span><span class="o">.</span><span class="n">tobytes</span><span class="p">()</span>
</span><span id="MockProCaptureDevice-170"><a href="#MockProCaptureDevice-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">transfer_complete</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</span><span id="MockProCaptureDevice-171"><a href="#MockProCaptureDevice-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="MockProCaptureDevice-172"><a href="#MockProCaptureDevice-172"><span class="linenos">172</span></a>        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="MockProCaptureDevice-173"><a href="#MockProCaptureDevice-173"><span class="linenos">173</span></a>
</span><span id="MockProCaptureDevice-174"><a href="#MockProCaptureDevice-174"><span class="linenos">174</span></a>    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice-175"><a href="#MockProCaptureDevice-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>MockProCaptureDevice is intended to be used during testing, development and CI in the absence of a hardware frame
grabber or Magewell Windows SDK. Does not require Magewell driver or hardware.</p>

<p>Only TransferMode.Timer is supported.</p>

<p>The class generates test frames. The frame rate is limited to 2 frames per second because copying the mock frames
to a provided PC transfer buffer takes a surprisingly long time (~0.11s).</p>
</div>


                            <div id="MockProCaptureDevice.__init__" class="classattr">
                                        <input id="MockProCaptureDevice.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">MockProCaptureDevice</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">settings</span><span class="p">:</span> <span class="n"><a href="#ProCaptureSettings">pymagewell.ProCaptureSettings</a></span></span>)</span>

                <label class="view-source-button" for="MockProCaptureDevice.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice.__init__-61"><a href="#MockProCaptureDevice.__init__-61"><span class="linenos">61</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">ProCaptureSettings</span><span class="p">):</span>
</span><span id="MockProCaptureDevice.__init__-62"><a href="#MockProCaptureDevice.__init__-62"><span class="linenos">62</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice.__init__-63"><a href="#MockProCaptureDevice.__init__-63"><span class="linenos">63</span></a><span class="sd">        Args:</span>
</span><span id="MockProCaptureDevice.__init__-64"><a href="#MockProCaptureDevice.__init__-64"><span class="linenos">64</span></a><span class="sd">            settings (ProCaptureSettings): The settings to use for the mock device. settings.transfer_mode must be</span>
</span><span id="MockProCaptureDevice.__init__-65"><a href="#MockProCaptureDevice.__init__-65"><span class="linenos">65</span></a><span class="sd">              set to TransferMode.Timer.</span>
</span><span id="MockProCaptureDevice.__init__-66"><a href="#MockProCaptureDevice.__init__-66"><span class="linenos">66</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice.__init__-67"><a href="#MockProCaptureDevice.__init__-67"><span class="linenos">67</span></a>        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">!=</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="MockProCaptureDevice.__init__-68"><a href="#MockProCaptureDevice.__init__-68"><span class="linenos">68</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;MockProCaptureDevice only works in Timer transfer mode.&quot;</span><span class="p">)</span>
</span><span id="MockProCaptureDevice.__init__-69"><a href="#MockProCaptureDevice.__init__-69"><span class="linenos">69</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</span><span id="MockProCaptureDevice.__init__-70"><a href="#MockProCaptureDevice.__init__-70"><span class="linenos">70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="MockProCaptureDevice.__init__-71"><a href="#MockProCaptureDevice.__init__-71"><span class="linenos">71</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span> <span class="o">=</span> <span class="n">ProCaptureEvents</span><span class="p">(</span>
</span><span id="MockProCaptureDevice.__init__-72"><a href="#MockProCaptureDevice.__init__-72"><span class="linenos">72</span></a>            <span class="n">transfer_complete</span><span class="o">=</span><span class="n">TransferCompleteEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice.__init__-73"><a href="#MockProCaptureDevice.__init__-73"><span class="linenos">73</span></a>            <span class="n">signal_change</span><span class="o">=</span><span class="n">SignalChangeEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice.__init__-74"><a href="#MockProCaptureDevice.__init__-74"><span class="linenos">74</span></a>            <span class="n">frame_buffered</span><span class="o">=</span><span class="n">FrameBufferedEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice.__init__-75"><a href="#MockProCaptureDevice.__init__-75"><span class="linenos">75</span></a>            <span class="n">frame_buffering</span><span class="o">=</span><span class="n">FrameBufferingEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice.__init__-76"><a href="#MockProCaptureDevice.__init__-76"><span class="linenos">76</span></a>            <span class="n">timer_event</span><span class="o">=</span><span class="n">TimerEvent</span><span class="p">(),</span>
</span><span id="MockProCaptureDevice.__init__-77"><a href="#MockProCaptureDevice.__init__-77"><span class="linenos">77</span></a>        <span class="p">)</span>
</span><span id="MockProCaptureDevice.__init__-78"><a href="#MockProCaptureDevice.__init__-78"><span class="linenos">78</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">signal_change</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Notification</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="MockProCaptureDevice.__init__-79"><a href="#MockProCaptureDevice.__init__-79"><span class="linenos">79</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">timer_event</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Notification</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span><span id="MockProCaptureDevice.__init__-80"><a href="#MockProCaptureDevice.__init__-80"><span class="linenos">80</span></a>
</span><span id="MockProCaptureDevice.__init__-81"><a href="#MockProCaptureDevice.__init__-81"><span class="linenos">81</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mock_timer</span> <span class="o">=</span> <span class="n">_MockTimer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_events</span><span class="o">.</span><span class="n">timer_event</span><span class="p">,</span> <span class="n">MOCK_FRAME_RATE_HZ</span><span class="p">)</span>
</span><span id="MockProCaptureDevice.__init__-82"><a href="#MockProCaptureDevice.__init__-82"><span class="linenos">82</span></a>
</span><span id="MockProCaptureDevice.__init__-83"><a href="#MockProCaptureDevice.__init__-83"><span class="linenos">83</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_counter</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MockProCaptureDevice.__init__-84"><a href="#MockProCaptureDevice.__init__-84"><span class="linenos">84</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mock_frames</span> <span class="o">=</span> <span class="p">[</span><span class="n">create_mock_frame</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">NUM_TEST_FRAMES</span><span class="p">)]</span>
</span><span id="MockProCaptureDevice.__init__-85"><a href="#MockProCaptureDevice.__init__-85"><span class="linenos">85</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_mock_frames</span><span class="p">):</span>
</span><span id="MockProCaptureDevice.__init__-86"><a href="#MockProCaptureDevice.__init__-86"><span class="linenos">86</span></a>            <span class="n">putText</span><span class="p">(</span>
</span><span id="MockProCaptureDevice.__init__-87"><a href="#MockProCaptureDevice.__init__-87"><span class="linenos">87</span></a>                <span class="n">frame</span><span class="p">,</span>
</span><span id="MockProCaptureDevice.__init__-88"><a href="#MockProCaptureDevice.__init__-88"><span class="linenos">88</span></a>                <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
</span><span id="MockProCaptureDevice.__init__-89"><a href="#MockProCaptureDevice.__init__-89"><span class="linenos">89</span></a>                <span class="p">(</span><span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span><span class="p">,</span> <span class="n">frame</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span><span class="p">),</span>
</span><span id="MockProCaptureDevice.__init__-90"><a href="#MockProCaptureDevice.__init__-90"><span class="linenos">90</span></a>                <span class="n">FONT_HERSHEY_SIMPLEX</span><span class="p">,</span>
</span><span id="MockProCaptureDevice.__init__-91"><a href="#MockProCaptureDevice.__init__-91"><span class="linenos">91</span></a>                <span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice.__init__-92"><a href="#MockProCaptureDevice.__init__-92"><span class="linenos">92</span></a>                <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span>
</span><span id="MockProCaptureDevice.__init__-93"><a href="#MockProCaptureDevice.__init__-93"><span class="linenos">93</span></a>                <span class="mi">1</span><span class="p">,</span>
</span><span id="MockProCaptureDevice.__init__-94"><a href="#MockProCaptureDevice.__init__-94"><span class="linenos">94</span></a>                <span class="n">LINE_AA</span><span class="p">,</span>
</span><span id="MockProCaptureDevice.__init__-95"><a href="#MockProCaptureDevice.__init__-95"><span class="linenos">95</span></a>            <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>settings (ProCaptureSettings):</strong>  The settings to use for the mock device. settings.transfer_mode must be
set to TransferMode.Timer.</li>
</ul>
</div>


                            </div>
                            <div id="MockProCaptureDevice.events" class="classattr">
                                <div class="attr variable">
            <span class="name">events</span><span class="annotation">: pymagewell.pro_capture_device.device_interface.ProCaptureEvents</span>

        
    </div>
    <a class="headerlink" href="#MockProCaptureDevice.events"></a>
    
            <div class="docstring"><p>events property</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>A <code>ProCaptureEvents</code> object containing handles to the events generated by the device during frame grabbing.</p>
</blockquote>
</div>


                            </div>
                            <div id="MockProCaptureDevice.schedule_timer_event" class="classattr">
                                        <input id="MockProCaptureDevice.schedule_timer_event-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">schedule_timer_event</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MockProCaptureDevice.schedule_timer_event-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice.schedule_timer_event"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice.schedule_timer_event-105"><a href="#MockProCaptureDevice.schedule_timer_event-105"><span class="linenos">105</span></a>    <span class="k">def</span> <span class="nf">schedule_timer_event</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice.schedule_timer_event-106"><a href="#MockProCaptureDevice.schedule_timer_event-106"><span class="linenos">106</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_mock_timer</span><span class="o">.</span><span class="n">schedule_event</span><span class="p">()</span>
</span></pre></div>


    

                            </div>
                            <div id="MockProCaptureDevice.start_grabbing" class="classattr">
                                        <input id="MockProCaptureDevice.start_grabbing-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">start_grabbing</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MockProCaptureDevice.start_grabbing-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice.start_grabbing"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice.start_grabbing-154"><a href="#MockProCaptureDevice.start_grabbing-154"><span class="linenos">154</span></a>    <span class="k">def</span> <span class="nf">start_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice.start_grabbing-155"><a href="#MockProCaptureDevice.start_grabbing-155"><span class="linenos">155</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


    

                            </div>
                            <div id="MockProCaptureDevice.stop_grabbing" class="classattr">
                                        <input id="MockProCaptureDevice.stop_grabbing-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">stop_grabbing</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MockProCaptureDevice.stop_grabbing-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice.stop_grabbing"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice.stop_grabbing-157"><a href="#MockProCaptureDevice.stop_grabbing-157"><span class="linenos">157</span></a>    <span class="k">def</span> <span class="nf">stop_grabbing</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice.stop_grabbing-158"><a href="#MockProCaptureDevice.stop_grabbing-158"><span class="linenos">158</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


    

                            </div>
                            <div id="MockProCaptureDevice.start_a_frame_transfer" class="classattr">
                                        <input id="MockProCaptureDevice.start_a_frame_transfer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">start_a_frame_transfer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">frame_buffer</span><span class="p">:</span> <span class="n">_ctypes</span><span class="o">.</span><span class="n">Array</span><span class="p">[</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_char</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span>:</span></span>

                <label class="view-source-button" for="MockProCaptureDevice.start_a_frame_transfer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice.start_a_frame_transfer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice.start_a_frame_transfer-160"><a href="#MockProCaptureDevice.start_a_frame_transfer-160"><span class="linenos">160</span></a>    <span class="k">def</span> <span class="nf">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame_buffer</span><span class="p">:</span> <span class="n">Array</span><span class="p">[</span><span class="n">c_char</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-161"><a href="#MockProCaptureDevice.start_a_frame_transfer-161"><span class="linenos">161</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;start_a_frame_transfer immediately writes a mock frame to the provided buffer.</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-162"><a href="#MockProCaptureDevice.start_a_frame_transfer-162"><span class="linenos">162</span></a><span class="sd">        Args:</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-163"><a href="#MockProCaptureDevice.start_a_frame_transfer-163"><span class="linenos">163</span></a><span class="sd">            frame_buffer (Array[c_char]): The buffer to write the mock frame to.</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-164"><a href="#MockProCaptureDevice.start_a_frame_transfer-164"><span class="linenos">164</span></a><span class="sd">        Returns:</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-165"><a href="#MockProCaptureDevice.start_a_frame_transfer-165"><span class="linenos">165</span></a><span class="sd">            The time (datetime.datetime) the frame transfer was completed.</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-166"><a href="#MockProCaptureDevice.start_a_frame_transfer-166"><span class="linenos">166</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-167"><a href="#MockProCaptureDevice.start_a_frame_transfer-167"><span class="linenos">167</span></a>        <span class="n">frame_buffer</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_properties</span><span class="o">.</span><span class="n">size_in_bytes</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mock_frames</span><span class="p">[</span>  <span class="c1"># type: ignore</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-168"><a href="#MockProCaptureDevice.start_a_frame_transfer-168"><span class="linenos">168</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_frame_counter</span> <span class="o">%</span> <span class="n">NUM_TEST_FRAMES</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-169"><a href="#MockProCaptureDevice.start_a_frame_transfer-169"><span class="linenos">169</span></a>        <span class="p">]</span><span class="o">.</span><span class="n">tobytes</span><span class="p">()</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-170"><a href="#MockProCaptureDevice.start_a_frame_transfer-170"><span class="linenos">170</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">transfer_complete</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-171"><a href="#MockProCaptureDevice.start_a_frame_transfer-171"><span class="linenos">171</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_frame_counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="MockProCaptureDevice.start_a_frame_transfer-172"><a href="#MockProCaptureDevice.start_a_frame_transfer-172"><span class="linenos">172</span></a>        <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>start_a_frame_transfer immediately writes a mock frame to the provided buffer.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>frame_buffer (Array[c_char]):</strong>  The buffer to write the mock frame to.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The time (datetime.datetime) the frame transfer was completed.</p>
</blockquote>
</div>


                            </div>
                            <div id="MockProCaptureDevice.shutdown" class="classattr">
                                        <input id="MockProCaptureDevice.shutdown-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">shutdown</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="MockProCaptureDevice.shutdown-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MockProCaptureDevice.shutdown"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MockProCaptureDevice.shutdown-174"><a href="#MockProCaptureDevice.shutdown-174"><span class="linenos">174</span></a>    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="MockProCaptureDevice.shutdown-175"><a href="#MockProCaptureDevice.shutdown-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_is_grabbing</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


    

                            </div>
                </section>
                <section id="ProCaptureController">
                            <input id="ProCaptureController-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ProCaptureController</span>:

                <label class="view-source-button" for="ProCaptureController-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureController"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureController-25"><a href="#ProCaptureController-25"><span class="linenos"> 25</span></a><span class="k">class</span> <span class="nc">ProCaptureController</span><span class="p">:</span>
</span><span id="ProCaptureController-26"><a href="#ProCaptureController-26"><span class="linenos"> 26</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;ProCaptureController controls the transfer of frames from a ProCaptureDevice or MockProCaptureDevice to a PC.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-27"><a href="#ProCaptureController-27"><span class="linenos"> 27</span></a>
</span><span id="ProCaptureController-28"><a href="#ProCaptureController-28"><span class="linenos"> 28</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device</span><span class="p">:</span> <span class="n">ProCaptureDeviceInterface</span><span class="p">):</span>
</span><span id="ProCaptureController-29"><a href="#ProCaptureController-29"><span class="linenos"> 29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-30"><a href="#ProCaptureController-30"><span class="linenos"> 30</span></a><span class="sd">        Args:</span>
</span><span id="ProCaptureController-31"><a href="#ProCaptureController-31"><span class="linenos"> 31</span></a><span class="sd">            device (ProCaptureDeviceInterface): The implementation of ProCaptureDeviceInterface to use for frame</span>
</span><span id="ProCaptureController-32"><a href="#ProCaptureController-32"><span class="linenos"> 32</span></a><span class="sd">              transfer. ProCaptureDevice or MockProCaptureDevice are both valid implementations.</span>
</span><span id="ProCaptureController-33"><a href="#ProCaptureController-33"><span class="linenos"> 33</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureController-34"><a href="#ProCaptureController-34"><span class="linenos"> 34</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span> <span class="o">=</span> <span class="n">device</span>
</span><span id="ProCaptureController-35"><a href="#ProCaptureController-35"><span class="linenos"> 35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">create_string_buffer</span><span class="p">(</span><span class="mi">3840</span> <span class="o">*</span> <span class="mi">2160</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="ProCaptureController-36"><a href="#ProCaptureController-36"><span class="linenos"> 36</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">start_grabbing</span><span class="p">()</span>
</span><span id="ProCaptureController-37"><a href="#ProCaptureController-37"><span class="linenos"> 37</span></a>
</span><span id="ProCaptureController-38"><a href="#ProCaptureController-38"><span class="linenos"> 38</span></a>    <span class="k">def</span> <span class="nf">transfer_when_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VideoFrame</span><span class="p">:</span>
</span><span id="ProCaptureController-39"><a href="#ProCaptureController-39"><span class="linenos"> 39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;transfer_when_ready wait for the device to be ready to start transferring, transfers it and returns it.</span>
</span><span id="ProCaptureController-40"><a href="#ProCaptureController-40"><span class="linenos"> 40</span></a>
</span><span id="ProCaptureController-41"><a href="#ProCaptureController-41"><span class="linenos"> 41</span></a><span class="sd">        This method will block until the frame has been transferred or the timeout has been reached.</span>
</span><span id="ProCaptureController-42"><a href="#ProCaptureController-42"><span class="linenos"> 42</span></a>
</span><span id="ProCaptureController-43"><a href="#ProCaptureController-43"><span class="linenos"> 43</span></a><span class="sd">        In TransferMode.TIMER and TransferMode.NORMAL, frame transfer will start after a whole frame has been grabbed</span>
</span><span id="ProCaptureController-44"><a href="#ProCaptureController-44"><span class="linenos"> 44</span></a><span class="sd">          by the device. In TransferMode.LOW_LATENCY, frame transfer will start after a frame has started to be</span>
</span><span id="ProCaptureController-45"><a href="#ProCaptureController-45"><span class="linenos"> 45</span></a><span class="sd">          buffered onto the device.</span>
</span><span id="ProCaptureController-46"><a href="#ProCaptureController-46"><span class="linenos"> 46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureController-47"><a href="#ProCaptureController-47"><span class="linenos"> 47</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="ProCaptureController-48"><a href="#ProCaptureController-48"><span class="linenos"> 48</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">schedule_timer_event</span><span class="p">()</span>
</span><span id="ProCaptureController-49"><a href="#ProCaptureController-49"><span class="linenos"> 49</span></a>        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_event</span><span class="p">(</span><span class="n">timeout_ms</span><span class="o">=</span><span class="n">timeout_ms</span><span class="p">)</span>
</span><span id="ProCaptureController-50"><a href="#ProCaptureController-50"><span class="linenos"> 50</span></a>        <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="ProCaptureController-51"><a href="#ProCaptureController-51"><span class="linenos"> 51</span></a>        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureController-52"><a href="#ProCaptureController-52"><span class="linenos"> 52</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_when_ready</span><span class="p">()</span>
</span><span id="ProCaptureController-53"><a href="#ProCaptureController-53"><span class="linenos"> 53</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureController-54"><a href="#ProCaptureController-54"><span class="linenos"> 54</span></a>            <span class="k">return</span> <span class="n">frame</span>
</span><span id="ProCaptureController-55"><a href="#ProCaptureController-55"><span class="linenos"> 55</span></a>
</span><span id="ProCaptureController-56"><a href="#ProCaptureController-56"><span class="linenos"> 56</span></a>    <span class="k">def</span> <span class="nf">_wait_for_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Event</span><span class="p">:</span>
</span><span id="ProCaptureController-57"><a href="#ProCaptureController-57"><span class="linenos"> 57</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait for events to be raised by the ProCaptureDevice or Timer, and return the raised event.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-58"><a href="#ProCaptureController-58"><span class="linenos"> 58</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="ProCaptureController-59"><a href="#ProCaptureController-59"><span class="linenos"> 59</span></a>            <span class="n">grab_event</span><span class="p">:</span> <span class="n">Event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">timer_event</span>
</span><span id="ProCaptureController-60"><a href="#ProCaptureController-60"><span class="linenos"> 60</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">:</span>
</span><span id="ProCaptureController-61"><a href="#ProCaptureController-61"><span class="linenos"> 61</span></a>            <span class="n">grab_event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">frame_buffered</span>
</span><span id="ProCaptureController-62"><a href="#ProCaptureController-62"><span class="linenos"> 62</span></a>        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">LOW_LATENCY</span><span class="p">:</span>
</span><span id="ProCaptureController-63"><a href="#ProCaptureController-63"><span class="linenos"> 63</span></a>            <span class="n">grab_event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">frame_buffering</span>
</span><span id="ProCaptureController-64"><a href="#ProCaptureController-64"><span class="linenos"> 64</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureController-65"><a href="#ProCaptureController-65"><span class="linenos"> 65</span></a>            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Invalid grab mode.&quot;</span><span class="p">)</span>
</span><span id="ProCaptureController-66"><a href="#ProCaptureController-66"><span class="linenos"> 66</span></a>
</span><span id="ProCaptureController-67"><a href="#ProCaptureController-67"><span class="linenos"> 67</span></a>        <span class="n">events_to_wait_for</span> <span class="o">=</span> <span class="p">[</span><span class="n">grab_event</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">signal_change</span><span class="p">]</span>
</span><span id="ProCaptureController-68"><a href="#ProCaptureController-68"><span class="linenos"> 68</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="ProCaptureController-69"><a href="#ProCaptureController-69"><span class="linenos"> 69</span></a>            <span class="n">event_that_occurred</span> <span class="o">=</span> <span class="n">wait_for_events</span><span class="p">(</span><span class="n">events_to_wait_for</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="n">timeout_ms</span><span class="p">)</span>
</span><span id="ProCaptureController-70"><a href="#ProCaptureController-70"><span class="linenos"> 70</span></a>        <span class="k">except</span> <span class="n">WaitForEventTimeout</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="ProCaptureController-71"><a href="#ProCaptureController-71"><span class="linenos"> 71</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span><span id="ProCaptureController-72"><a href="#ProCaptureController-72"><span class="linenos"> 72</span></a>            <span class="k">raise</span> <span class="n">e</span>
</span><span id="ProCaptureController-73"><a href="#ProCaptureController-73"><span class="linenos"> 73</span></a>        <span class="k">return</span> <span class="n">event_that_occurred</span>
</span><span id="ProCaptureController-74"><a href="#ProCaptureController-74"><span class="linenos"> 74</span></a>
</span><span id="ProCaptureController-75"><a href="#ProCaptureController-75"><span class="linenos"> 75</span></a>    <span class="nd">@singledispatchmethod</span>
</span><span id="ProCaptureController-76"><a href="#ProCaptureController-76"><span class="linenos"> 76</span></a>    <span class="k">def</span> <span class="nf">_handle_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">Event</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VideoFrame</span><span class="p">]:</span>
</span><span id="ProCaptureController-77"><a href="#ProCaptureController-77"><span class="linenos"> 77</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Handle a raised event, including transferring a frame if the event means one is ready.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-78"><a href="#ProCaptureController-78"><span class="linenos"> 78</span></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>
</span><span id="ProCaptureController-79"><a href="#ProCaptureController-79"><span class="linenos"> 79</span></a>
</span><span id="ProCaptureController-80"><a href="#ProCaptureController-80"><span class="linenos"> 80</span></a>    <span class="nd">@_handle_event</span><span class="o">.</span><span class="n">register</span>
</span><span id="ProCaptureController-81"><a href="#ProCaptureController-81"><span class="linenos"> 81</span></a>    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">TimerEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VideoFrame</span><span class="p">]:</span>
</span><span id="ProCaptureController-82"><a href="#ProCaptureController-82"><span class="linenos"> 82</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;If timer event received, then whole frame is on device. Only subscribed to in TIMER mode. This method</span>
</span><span id="ProCaptureController-83"><a href="#ProCaptureController-83"><span class="linenos"> 83</span></a><span class="sd">        transfers the frame to a buffer in PC memory, makes a copy, marks the buffer memory as free and then returns</span>
</span><span id="ProCaptureController-84"><a href="#ProCaptureController-84"><span class="linenos"> 84</span></a><span class="sd">        the copy.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-85"><a href="#ProCaptureController-85"><span class="linenos"> 85</span></a>        <span class="n">transfer_started_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>
</span><span id="ProCaptureController-86"><a href="#ProCaptureController-86"><span class="linenos"> 86</span></a>        <span class="n">buffering_started_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_info</span><span class="o">.</span><span class="n">buffering_start_time</span>
</span><span id="ProCaptureController-87"><a href="#ProCaptureController-87"><span class="linenos"> 87</span></a>        <span class="n">transfer_complete_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_frame_or_chunk_transfer_to_complete</span><span class="p">(</span><span class="n">timeout_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
</span><span id="ProCaptureController-88"><a href="#ProCaptureController-88"><span class="linenos"> 88</span></a>        <span class="n">buffering_complete_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_info</span><span class="o">.</span><span class="n">buffering_complete_time</span>
</span><span id="ProCaptureController-89"><a href="#ProCaptureController-89"><span class="linenos"> 89</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_status</span><span class="o">.</span><span class="n">whole_frame_transferred</span><span class="p">:</span>  <span class="c1"># this marks the buffer memory as free</span>
</span><span id="ProCaptureController-90"><a href="#ProCaptureController-90"><span class="linenos"> 90</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="s2">&quot;Only part of frame has been acquired&quot;</span><span class="p">)</span>
</span><span id="ProCaptureController-91"><a href="#ProCaptureController-91"><span class="linenos"> 91</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_frame</span><span class="p">(</span>
</span><span id="ProCaptureController-92"><a href="#ProCaptureController-92"><span class="linenos"> 92</span></a>            <span class="n">timestamps</span><span class="o">=</span><span class="n">VideoFrameTimestamps</span><span class="p">(</span>
</span><span id="ProCaptureController-93"><a href="#ProCaptureController-93"><span class="linenos"> 93</span></a>                <span class="n">transfer_started</span><span class="o">=</span><span class="n">transfer_started_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-94"><a href="#ProCaptureController-94"><span class="linenos"> 94</span></a>                <span class="n">transfer_complete</span><span class="o">=</span><span class="n">transfer_complete_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-95"><a href="#ProCaptureController-95"><span class="linenos"> 95</span></a>                <span class="n">buffering_started</span><span class="o">=</span><span class="n">buffering_started_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-96"><a href="#ProCaptureController-96"><span class="linenos"> 96</span></a>                <span class="n">buffering_complete</span><span class="o">=</span><span class="n">buffering_complete_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-97"><a href="#ProCaptureController-97"><span class="linenos"> 97</span></a>            <span class="p">)</span>
</span><span id="ProCaptureController-98"><a href="#ProCaptureController-98"><span class="linenos"> 98</span></a>        <span class="p">)</span>
</span><span id="ProCaptureController-99"><a href="#ProCaptureController-99"><span class="linenos"> 99</span></a>
</span><span id="ProCaptureController-100"><a href="#ProCaptureController-100"><span class="linenos">100</span></a>    <span class="nd">@_handle_event</span><span class="o">.</span><span class="n">register</span>
</span><span id="ProCaptureController-101"><a href="#ProCaptureController-101"><span class="linenos">101</span></a>    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">FrameBufferedEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VideoFrame</span><span class="p">]:</span>
</span><span id="ProCaptureController-102"><a href="#ProCaptureController-102"><span class="linenos">102</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;If FrameBufferedEvent event received, then whole frame is on device. This event is only subscribed to in</span>
</span><span id="ProCaptureController-103"><a href="#ProCaptureController-103"><span class="linenos">103</span></a><span class="sd">        NORMAL mode. This method transfers it to a buffer in PC memory, makes a copy, marks the buffer memory as free</span>
</span><span id="ProCaptureController-104"><a href="#ProCaptureController-104"><span class="linenos">104</span></a><span class="sd">        and then returns the copy.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-105"><a href="#ProCaptureController-105"><span class="linenos">105</span></a>        <span class="n">transfer_started_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>
</span><span id="ProCaptureController-106"><a href="#ProCaptureController-106"><span class="linenos">106</span></a>        <span class="n">transfer_complete_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_frame_or_chunk_transfer_to_complete</span><span class="p">(</span><span class="n">timeout_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
</span><span id="ProCaptureController-107"><a href="#ProCaptureController-107"><span class="linenos">107</span></a>        <span class="n">buffering_started_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_info</span><span class="o">.</span><span class="n">buffering_start_time</span>
</span><span id="ProCaptureController-108"><a href="#ProCaptureController-108"><span class="linenos">108</span></a>        <span class="n">buffering_complete_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_info</span><span class="o">.</span><span class="n">buffering_complete_time</span>
</span><span id="ProCaptureController-109"><a href="#ProCaptureController-109"><span class="linenos">109</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_status</span><span class="o">.</span><span class="n">whole_frame_transferred</span><span class="p">:</span>  <span class="c1"># this marks the buffer memory as free</span>
</span><span id="ProCaptureController-110"><a href="#ProCaptureController-110"><span class="linenos">110</span></a>            <span class="k">raise</span> <span class="n">ProCaptureError</span><span class="p">(</span><span class="s2">&quot;Only part of frame has been acquired&quot;</span><span class="p">)</span>
</span><span id="ProCaptureController-111"><a href="#ProCaptureController-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_frame</span><span class="p">(</span>
</span><span id="ProCaptureController-112"><a href="#ProCaptureController-112"><span class="linenos">112</span></a>            <span class="n">timestamps</span><span class="o">=</span><span class="n">VideoFrameTimestamps</span><span class="p">(</span>
</span><span id="ProCaptureController-113"><a href="#ProCaptureController-113"><span class="linenos">113</span></a>                <span class="n">transfer_started</span><span class="o">=</span><span class="n">transfer_started_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-114"><a href="#ProCaptureController-114"><span class="linenos">114</span></a>                <span class="n">transfer_complete</span><span class="o">=</span><span class="n">transfer_complete_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-115"><a href="#ProCaptureController-115"><span class="linenos">115</span></a>                <span class="n">buffering_started</span><span class="o">=</span><span class="n">buffering_started_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-116"><a href="#ProCaptureController-116"><span class="linenos">116</span></a>                <span class="n">buffering_complete</span><span class="o">=</span><span class="n">buffering_complete_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-117"><a href="#ProCaptureController-117"><span class="linenos">117</span></a>            <span class="p">)</span>
</span><span id="ProCaptureController-118"><a href="#ProCaptureController-118"><span class="linenos">118</span></a>        <span class="p">)</span>
</span><span id="ProCaptureController-119"><a href="#ProCaptureController-119"><span class="linenos">119</span></a>
</span><span id="ProCaptureController-120"><a href="#ProCaptureController-120"><span class="linenos">120</span></a>    <span class="nd">@_handle_event</span><span class="o">.</span><span class="n">register</span>
</span><span id="ProCaptureController-121"><a href="#ProCaptureController-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">FrameBufferingEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VideoFrame</span><span class="p">]:</span>
</span><span id="ProCaptureController-122"><a href="#ProCaptureController-122"><span class="linenos">122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;If FrameBufferingEvent event received, then a frame has started to be acquired by the card. This event is</span>
</span><span id="ProCaptureController-123"><a href="#ProCaptureController-123"><span class="linenos">123</span></a><span class="sd">        only subscribed to in LOW_LATENCY mode. This method starts the transfer of the available lines to a buffer in</span>
</span><span id="ProCaptureController-124"><a href="#ProCaptureController-124"><span class="linenos">124</span></a><span class="sd">        PC memory while the acquisition is still happening. It then waits until all lines have been received (this query</span>
</span><span id="ProCaptureController-125"><a href="#ProCaptureController-125"><span class="linenos">125</span></a><span class="sd">        also frees the memory), copies the buffer contents and returns the copy.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-126"><a href="#ProCaptureController-126"><span class="linenos">126</span></a>        <span class="n">transfer_started_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">start_a_frame_transfer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>
</span><span id="ProCaptureController-127"><a href="#ProCaptureController-127"><span class="linenos">127</span></a>        <span class="n">buffering_started_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_info</span><span class="o">.</span><span class="n">buffering_start_time</span>
</span><span id="ProCaptureController-128"><a href="#ProCaptureController-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_frame_or_chunk_transfer_to_complete</span><span class="p">(</span><span class="n">timeout_ms</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span>
</span><span id="ProCaptureController-129"><a href="#ProCaptureController-129"><span class="linenos">129</span></a>        <span class="n">wait_start_t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
</span><span id="ProCaptureController-130"><a href="#ProCaptureController-130"><span class="linenos">130</span></a>        <span class="k">while</span> <span class="p">(</span>
</span><span id="ProCaptureController-131"><a href="#ProCaptureController-131"><span class="linenos">131</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_status</span><span class="o">.</span><span class="n">num_lines_transferred</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_properties</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">rows</span>
</span><span id="ProCaptureController-132"><a href="#ProCaptureController-132"><span class="linenos">132</span></a>            <span class="ow">and</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">wait_start_t</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span>
</span><span id="ProCaptureController-133"><a href="#ProCaptureController-133"><span class="linenos">133</span></a>        <span class="p">):</span>
</span><span id="ProCaptureController-134"><a href="#ProCaptureController-134"><span class="linenos">134</span></a>            <span class="k">pass</span>
</span><span id="ProCaptureController-135"><a href="#ProCaptureController-135"><span class="linenos">135</span></a>        <span class="n">transfer_complete_timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ProCaptureController-136"><a href="#ProCaptureController-136"><span class="linenos">136</span></a>        <span class="n">buffering_complete_timestamp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_info</span><span class="o">.</span><span class="n">buffering_complete_time</span>
</span><span id="ProCaptureController-137"><a href="#ProCaptureController-137"><span class="linenos">137</span></a>
</span><span id="ProCaptureController-138"><a href="#ProCaptureController-138"><span class="linenos">138</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_format_frame</span><span class="p">(</span>
</span><span id="ProCaptureController-139"><a href="#ProCaptureController-139"><span class="linenos">139</span></a>            <span class="n">timestamps</span><span class="o">=</span><span class="n">VideoFrameTimestamps</span><span class="p">(</span>
</span><span id="ProCaptureController-140"><a href="#ProCaptureController-140"><span class="linenos">140</span></a>                <span class="n">transfer_started</span><span class="o">=</span><span class="n">transfer_started_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-141"><a href="#ProCaptureController-141"><span class="linenos">141</span></a>                <span class="n">transfer_complete</span><span class="o">=</span><span class="n">transfer_complete_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-142"><a href="#ProCaptureController-142"><span class="linenos">142</span></a>                <span class="n">buffering_started</span><span class="o">=</span><span class="n">buffering_started_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-143"><a href="#ProCaptureController-143"><span class="linenos">143</span></a>                <span class="n">buffering_complete</span><span class="o">=</span><span class="n">buffering_complete_timestamp</span><span class="p">,</span>
</span><span id="ProCaptureController-144"><a href="#ProCaptureController-144"><span class="linenos">144</span></a>            <span class="p">)</span>
</span><span id="ProCaptureController-145"><a href="#ProCaptureController-145"><span class="linenos">145</span></a>        <span class="p">)</span>
</span><span id="ProCaptureController-146"><a href="#ProCaptureController-146"><span class="linenos">146</span></a>
</span><span id="ProCaptureController-147"><a href="#ProCaptureController-147"><span class="linenos">147</span></a>    <span class="nd">@_handle_event</span><span class="o">.</span><span class="n">register</span>
</span><span id="ProCaptureController-148"><a href="#ProCaptureController-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="nf">_</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="n">SignalChangeEvent</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureController-149"><a href="#ProCaptureController-149"><span class="linenos">149</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;If a SignalChangeEvent is received, then the source signal has changed and no frame is available.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-150"><a href="#ProCaptureController-150"><span class="linenos">150</span></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Frame grabber signal change detected&quot;</span><span class="p">)</span>
</span><span id="ProCaptureController-151"><a href="#ProCaptureController-151"><span class="linenos">151</span></a>
</span><span id="ProCaptureController-152"><a href="#ProCaptureController-152"><span class="linenos">152</span></a>    <span class="k">def</span> <span class="nf">_format_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timestamps</span><span class="p">:</span> <span class="n">VideoFrameTimestamps</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VideoFrame</span><span class="p">:</span>
</span><span id="ProCaptureController-153"><a href="#ProCaptureController-153"><span class="linenos">153</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Copy the contents of the transfer buffer, and return it as a VideoFrame.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-154"><a href="#ProCaptureController-154"><span class="linenos">154</span></a>        <span class="c1"># Copy the acquired frame</span>
</span><span id="ProCaptureController-155"><a href="#ProCaptureController-155"><span class="linenos">155</span></a>        <span class="n">string_buffer</span> <span class="o">=</span> <span class="n">string_at</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_properties</span><span class="o">.</span><span class="n">size_in_bytes</span><span class="p">)</span>
</span><span id="ProCaptureController-156"><a href="#ProCaptureController-156"><span class="linenos">156</span></a>        <span class="n">frame</span> <span class="o">=</span> <span class="n">VideoFrame</span><span class="p">(</span>
</span><span id="ProCaptureController-157"><a href="#ProCaptureController-157"><span class="linenos">157</span></a>            <span class="n">string_buffer</span><span class="p">,</span>
</span><span id="ProCaptureController-158"><a href="#ProCaptureController-158"><span class="linenos">158</span></a>            <span class="n">dimensions</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">frame_properties</span><span class="o">.</span><span class="n">dimensions</span><span class="p">,</span>
</span><span id="ProCaptureController-159"><a href="#ProCaptureController-159"><span class="linenos">159</span></a>            <span class="n">timestamps</span><span class="o">=</span><span class="n">timestamps</span><span class="p">,</span>
</span><span id="ProCaptureController-160"><a href="#ProCaptureController-160"><span class="linenos">160</span></a>        <span class="p">)</span>
</span><span id="ProCaptureController-161"><a href="#ProCaptureController-161"><span class="linenos">161</span></a>        <span class="k">return</span> <span class="n">frame</span>
</span><span id="ProCaptureController-162"><a href="#ProCaptureController-162"><span class="linenos">162</span></a>
</span><span id="ProCaptureController-163"><a href="#ProCaptureController-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="nf">_wait_for_frame_or_chunk_transfer_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
</span><span id="ProCaptureController-164"><a href="#ProCaptureController-164"><span class="linenos">164</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Waits until a whole frame (or chunk of a frame in low latency mode) has been transferred to the buffer in</span>
</span><span id="ProCaptureController-165"><a href="#ProCaptureController-165"><span class="linenos">165</span></a><span class="sd">        PC memory.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-166"><a href="#ProCaptureController-166"><span class="linenos">166</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="ProCaptureController-167"><a href="#ProCaptureController-167"><span class="linenos">167</span></a>            <span class="n">wait_for_event</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">events</span><span class="o">.</span><span class="n">transfer_complete</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="o">=</span><span class="n">timeout_ms</span><span class="p">)</span>
</span><span id="ProCaptureController-168"><a href="#ProCaptureController-168"><span class="linenos">168</span></a>            <span class="k">return</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="ProCaptureController-169"><a href="#ProCaptureController-169"><span class="linenos">169</span></a>        <span class="k">except</span> <span class="n">WaitForEventTimeout</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="ProCaptureController-170"><a href="#ProCaptureController-170"><span class="linenos">170</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span><span id="ProCaptureController-171"><a href="#ProCaptureController-171"><span class="linenos">171</span></a>            <span class="k">raise</span> <span class="n">e</span>
</span><span id="ProCaptureController-172"><a href="#ProCaptureController-172"><span class="linenos">172</span></a>
</span><span id="ProCaptureController-173"><a href="#ProCaptureController-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureController-174"><a href="#ProCaptureController-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Shuts down the frame grabber device.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController-175"><a href="#ProCaptureController-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">stop_grabbing</span><span class="p">()</span>
</span><span id="ProCaptureController-176"><a href="#ProCaptureController-176"><span class="linenos">176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>ProCaptureController controls the transfer of frames from a ProCaptureDevice or MockProCaptureDevice to a PC.</p>
</div>


                            <div id="ProCaptureController.__init__" class="classattr">
                                        <input id="ProCaptureController.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ProCaptureController</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">device</span><span class="p">:</span> <span class="n">pymagewell</span><span class="o">.</span><span class="n">pro_capture_device</span><span class="o">.</span><span class="n">device_interface</span><span class="o">.</span><span class="n">ProCaptureDeviceInterface</span></span>)</span>

                <label class="view-source-button" for="ProCaptureController.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureController.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureController.__init__-28"><a href="#ProCaptureController.__init__-28"><span class="linenos">28</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device</span><span class="p">:</span> <span class="n">ProCaptureDeviceInterface</span><span class="p">):</span>
</span><span id="ProCaptureController.__init__-29"><a href="#ProCaptureController.__init__-29"><span class="linenos">29</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="ProCaptureController.__init__-30"><a href="#ProCaptureController.__init__-30"><span class="linenos">30</span></a><span class="sd">        Args:</span>
</span><span id="ProCaptureController.__init__-31"><a href="#ProCaptureController.__init__-31"><span class="linenos">31</span></a><span class="sd">            device (ProCaptureDeviceInterface): The implementation of ProCaptureDeviceInterface to use for frame</span>
</span><span id="ProCaptureController.__init__-32"><a href="#ProCaptureController.__init__-32"><span class="linenos">32</span></a><span class="sd">              transfer. ProCaptureDevice or MockProCaptureDevice are both valid implementations.</span>
</span><span id="ProCaptureController.__init__-33"><a href="#ProCaptureController.__init__-33"><span class="linenos">33</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureController.__init__-34"><a href="#ProCaptureController.__init__-34"><span class="linenos">34</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span> <span class="o">=</span> <span class="n">device</span>
</span><span id="ProCaptureController.__init__-35"><a href="#ProCaptureController.__init__-35"><span class="linenos">35</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">create_string_buffer</span><span class="p">(</span><span class="mi">3840</span> <span class="o">*</span> <span class="mi">2160</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
</span><span id="ProCaptureController.__init__-36"><a href="#ProCaptureController.__init__-36"><span class="linenos">36</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">start_grabbing</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device (ProCaptureDeviceInterface):</strong>  The implementation of ProCaptureDeviceInterface to use for frame
transfer. ProCaptureDevice or MockProCaptureDevice are both valid implementations.</li>
</ul>
</div>


                            </div>
                            <div id="ProCaptureController.transfer_when_ready" class="classattr">
                                        <input id="ProCaptureController.transfer_when_ready-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">transfer_when_ready</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span></span><span class="return-annotation">) -> <span class="n">pymagewell</span><span class="o">.</span><span class="n">video_frame</span><span class="o">.</span><span class="n">VideoFrame</span>:</span></span>

                <label class="view-source-button" for="ProCaptureController.transfer_when_ready-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureController.transfer_when_ready"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureController.transfer_when_ready-38"><a href="#ProCaptureController.transfer_when_ready-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">transfer_when_ready</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VideoFrame</span><span class="p">:</span>
</span><span id="ProCaptureController.transfer_when_ready-39"><a href="#ProCaptureController.transfer_when_ready-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;transfer_when_ready wait for the device to be ready to start transferring, transfers it and returns it.</span>
</span><span id="ProCaptureController.transfer_when_ready-40"><a href="#ProCaptureController.transfer_when_ready-40"><span class="linenos">40</span></a>
</span><span id="ProCaptureController.transfer_when_ready-41"><a href="#ProCaptureController.transfer_when_ready-41"><span class="linenos">41</span></a><span class="sd">        This method will block until the frame has been transferred or the timeout has been reached.</span>
</span><span id="ProCaptureController.transfer_when_ready-42"><a href="#ProCaptureController.transfer_when_ready-42"><span class="linenos">42</span></a>
</span><span id="ProCaptureController.transfer_when_ready-43"><a href="#ProCaptureController.transfer_when_ready-43"><span class="linenos">43</span></a><span class="sd">        In TransferMode.TIMER and TransferMode.NORMAL, frame transfer will start after a whole frame has been grabbed</span>
</span><span id="ProCaptureController.transfer_when_ready-44"><a href="#ProCaptureController.transfer_when_ready-44"><span class="linenos">44</span></a><span class="sd">          by the device. In TransferMode.LOW_LATENCY, frame transfer will start after a frame has started to be</span>
</span><span id="ProCaptureController.transfer_when_ready-45"><a href="#ProCaptureController.transfer_when_ready-45"><span class="linenos">45</span></a><span class="sd">          buffered onto the device.</span>
</span><span id="ProCaptureController.transfer_when_ready-46"><a href="#ProCaptureController.transfer_when_ready-46"><span class="linenos">46</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="ProCaptureController.transfer_when_ready-47"><a href="#ProCaptureController.transfer_when_ready-47"><span class="linenos">47</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">transfer_mode</span> <span class="o">==</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">TIMER</span><span class="p">:</span>
</span><span id="ProCaptureController.transfer_when_ready-48"><a href="#ProCaptureController.transfer_when_ready-48"><span class="linenos">48</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">schedule_timer_event</span><span class="p">()</span>
</span><span id="ProCaptureController.transfer_when_ready-49"><a href="#ProCaptureController.transfer_when_ready-49"><span class="linenos">49</span></a>        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_event</span><span class="p">(</span><span class="n">timeout_ms</span><span class="o">=</span><span class="n">timeout_ms</span><span class="p">)</span>
</span><span id="ProCaptureController.transfer_when_ready-50"><a href="#ProCaptureController.transfer_when_ready-50"><span class="linenos">50</span></a>        <span class="n">frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle_event</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="ProCaptureController.transfer_when_ready-51"><a href="#ProCaptureController.transfer_when_ready-51"><span class="linenos">51</span></a>        <span class="k">if</span> <span class="n">frame</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureController.transfer_when_ready-52"><a href="#ProCaptureController.transfer_when_ready-52"><span class="linenos">52</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transfer_when_ready</span><span class="p">()</span>
</span><span id="ProCaptureController.transfer_when_ready-53"><a href="#ProCaptureController.transfer_when_ready-53"><span class="linenos">53</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureController.transfer_when_ready-54"><a href="#ProCaptureController.transfer_when_ready-54"><span class="linenos">54</span></a>            <span class="k">return</span> <span class="n">frame</span>
</span></pre></div>


            <div class="docstring"><p>transfer_when_ready wait for the device to be ready to start transferring, transfers it and returns it.</p>

<p>This method will block until the frame has been transferred or the timeout has been reached.</p>

<p>In <a href="#TransferMode.TIMER">TransferMode.TIMER</a> and <a href="#TransferMode.NORMAL">TransferMode.NORMAL</a>, frame transfer will start after a whole frame has been grabbed
  by the device. In <a href="#TransferMode.LOW_LATENCY">TransferMode.LOW_LATENCY</a>, frame transfer will start after a frame has started to be
  buffered onto the device.</p>
</div>


                            </div>
                            <div id="ProCaptureController.shutdown" class="classattr">
                                        <input id="ProCaptureController.shutdown-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">shutdown</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="ProCaptureController.shutdown-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureController.shutdown"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureController.shutdown-173"><a href="#ProCaptureController.shutdown-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="nf">shutdown</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureController.shutdown-174"><a href="#ProCaptureController.shutdown-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Shuts down the frame grabber device.&quot;&quot;&quot;</span>
</span><span id="ProCaptureController.shutdown-175"><a href="#ProCaptureController.shutdown-175"><span class="linenos">175</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">stop_grabbing</span><span class="p">()</span>
</span><span id="ProCaptureController.shutdown-176"><a href="#ProCaptureController.shutdown-176"><span class="linenos">176</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_device</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Shuts down the frame grabber device.</p>
</div>


                            </div>
                </section>
                <section id="ProCaptureSettings">
                            <input id="ProCaptureSettings-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass</div>

    <span class="def">class</span>
    <span class="name">ProCaptureSettings</span>:

                <label class="view-source-button" for="ProCaptureSettings-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ProCaptureSettings"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ProCaptureSettings-177"><a href="#ProCaptureSettings-177"><span class="linenos">177</span></a><span class="nd">@dataclass</span>
</span><span id="ProCaptureSettings-178"><a href="#ProCaptureSettings-178"><span class="linenos">178</span></a><span class="k">class</span> <span class="nc">ProCaptureSettings</span><span class="p">:</span>
</span><span id="ProCaptureSettings-179"><a href="#ProCaptureSettings-179"><span class="linenos">179</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; Settings for the ProCapture device. &quot;&quot;&quot;</span>
</span><span id="ProCaptureSettings-180"><a href="#ProCaptureSettings-180"><span class="linenos">180</span></a>    <span class="n">dimensions</span><span class="p">:</span> <span class="n">ImageSizeInPixels</span> <span class="o">=</span> <span class="n">ImageSizeInPixels</span><span class="p">(</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">)</span>
</span><span id="ProCaptureSettings-181"><a href="#ProCaptureSettings-181"><span class="linenos">181</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The dimensions of the frames to be acquired in pixels.&quot;&quot;&quot;</span>
</span><span id="ProCaptureSettings-182"><a href="#ProCaptureSettings-182"><span class="linenos">182</span></a>    <span class="n">color_format</span><span class="p">:</span> <span class="n">ColourFormat</span> <span class="o">=</span> <span class="n">ColourFormat</span><span class="o">.</span><span class="n">BGR24</span>
</span><span id="ProCaptureSettings-183"><a href="#ProCaptureSettings-183"><span class="linenos">183</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The colour format of the frames to be acquired.&quot;&quot;&quot;</span>
</span><span id="ProCaptureSettings-184"><a href="#ProCaptureSettings-184"><span class="linenos">184</span></a>    <span class="n">transfer_mode</span><span class="p">:</span> <span class="n">TransferMode</span> <span class="o">=</span> <span class="n">TransferMode</span><span class="o">.</span><span class="n">NORMAL</span>
</span><span id="ProCaptureSettings-185"><a href="#ProCaptureSettings-185"><span class="linenos">185</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The method to use for transferring frames from the device to the PC. See `TransferMode` for details.&quot;&quot;&quot;</span>
</span><span id="ProCaptureSettings-186"><a href="#ProCaptureSettings-186"><span class="linenos">186</span></a>    <span class="n">num_lines_per_chunk</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">64</span>
</span><span id="ProCaptureSettings-187"><a href="#ProCaptureSettings-187"><span class="linenos">187</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of lines of a frame to transfer at a time (for `TransferMode.LOW_LATENCY` transfers).&quot;&quot;&quot;</span>
</span><span id="ProCaptureSettings-188"><a href="#ProCaptureSettings-188"><span class="linenos">188</span></a>
</span><span id="ProCaptureSettings-189"><a href="#ProCaptureSettings-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="ProCaptureSettings-190"><a href="#ProCaptureSettings-190"><span class="linenos">190</span></a>        <span class="n">_check_valid_chunk_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_lines_per_chunk</span><span class="p">)</span>
</span><span id="ProCaptureSettings-191"><a href="#ProCaptureSettings-191"><span class="linenos">191</span></a>
</span><span id="ProCaptureSettings-192"><a href="#ProCaptureSettings-192"><span class="linenos">192</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureSettings-193"><a href="#ProCaptureSettings-193"><span class="linenos">193</span></a>    <span class="k">def</span> <span class="nf">min_stride</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ProCaptureSettings-194"><a href="#ProCaptureSettings-194"><span class="linenos">194</span></a>        <span class="k">return</span> <span class="n">cast</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">fourcc_calc_min_stride</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_format</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">cols</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureSettings-195"><a href="#ProCaptureSettings-195"><span class="linenos">195</span></a>
</span><span id="ProCaptureSettings-196"><a href="#ProCaptureSettings-196"><span class="linenos">196</span></a>    <span class="nd">@property</span>
</span><span id="ProCaptureSettings-197"><a href="#ProCaptureSettings-197"><span class="linenos">197</span></a>    <span class="k">def</span> <span class="nf">image_size_in_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span><span id="ProCaptureSettings-198"><a href="#ProCaptureSettings-198"><span class="linenos">198</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_format</span> <span class="o">==</span> <span class="n">ColourFormat</span><span class="o">.</span><span class="n">NV12</span><span class="p">:</span>
</span><span id="ProCaptureSettings-199"><a href="#ProCaptureSettings-199"><span class="linenos">199</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">cols</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">rows</span> <span class="o">*</span> <span class="mi">2</span>  <span class="c1"># copied from line 223 of capture.py</span>
</span><span id="ProCaptureSettings-200"><a href="#ProCaptureSettings-200"><span class="linenos">200</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="ProCaptureSettings-201"><a href="#ProCaptureSettings-201"><span class="linenos">201</span></a>            <span class="k">return</span> <span class="n">cast</span><span class="p">(</span>
</span><span id="ProCaptureSettings-202"><a href="#ProCaptureSettings-202"><span class="linenos">202</span></a>                <span class="nb">int</span><span class="p">,</span>
</span><span id="ProCaptureSettings-203"><a href="#ProCaptureSettings-203"><span class="linenos">203</span></a>                <span class="n">fourcc_calc_image_size</span><span class="p">(</span>  <span class="c1"># type: ignore</span>
</span><span id="ProCaptureSettings-204"><a href="#ProCaptureSettings-204"><span class="linenos">204</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">color_format</span><span class="p">,</span>
</span><span id="ProCaptureSettings-205"><a href="#ProCaptureSettings-205"><span class="linenos">205</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">cols</span><span class="p">,</span>
</span><span id="ProCaptureSettings-206"><a href="#ProCaptureSettings-206"><span class="linenos">206</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dimensions</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span>
</span><span id="ProCaptureSettings-207"><a href="#ProCaptureSettings-207"><span class="linenos">207</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">min_stride</span><span class="p">,</span>
</span><span id="ProCaptureSettings-208"><a href="#ProCaptureSettings-208"><span class="linenos">208</span></a>                <span class="p">),</span>
</span><span id="ProCaptureSettings-209"><a href="#ProCaptureSettings-209"><span class="linenos">209</span></a>            <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Settings for the ProCapture device.</p>
</div>


                            <div id="ProCaptureSettings.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">ProCaptureSettings</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">dimensions</span><span class="p">:</span> <span class="n"><a href="#ImageSizeInPixels">pymagewell.ImageSizeInPixels</a></span> <span class="o">=</span> <span class="n">ImageSizeInPixels</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="mi">1920</span><span class="p">,</span> <span class="n">rows</span><span class="o">=</span><span class="mi">1080</span><span class="p">)</span>,</span><span class="param">	<span class="n">color_format</span><span class="p">:</span> <span class="n"><a href="#ColourFormat">pymagewell.ColourFormat</a></span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">ColourFormat</span><span class="o">.</span><span class="n">BGR24</span><span class="p">:</span> <span class="mi">542263106</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">transfer_mode</span><span class="p">:</span> <span class="n"><a href="#TransferMode">pymagewell.TransferMode</a></span> <span class="o">=</span> <span class="o">&lt;</span><span class="n"><a href="#TransferMode.NORMAL">TransferMode.NORMAL</a></span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span>,</span><span class="param">	<span class="n">num_lines_per_chunk</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">64</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureSettings.__init__"></a>
    
    

                            </div>
                            <div id="ProCaptureSettings.dimensions" class="classattr">
                                <div class="attr variable">
            <span class="name">dimensions</span><span class="annotation">: <a href="#ImageSizeInPixels">pymagewell.ImageSizeInPixels</a></span><span class="default_value"> = ImageSizeInPixels(cols=1920, rows=1080)</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureSettings.dimensions"></a>
    
            <div class="docstring"><p>The dimensions of the frames to be acquired in pixels.</p>
</div>


                            </div>
                            <div id="ProCaptureSettings.color_format" class="classattr">
                                <div class="attr variable">
            <span class="name">color_format</span><span class="annotation">: <a href="#ColourFormat">pymagewell.ColourFormat</a></span><span class="default_value"> = &lt;ColourFormat.BGR24: 542263106&gt;</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureSettings.color_format"></a>
    
            <div class="docstring"><p>The colour format of the frames to be acquired.</p>
</div>


                            </div>
                            <div id="ProCaptureSettings.transfer_mode" class="classattr">
                                <div class="attr variable">
            <span class="name">transfer_mode</span><span class="annotation">: <a href="#TransferMode">pymagewell.TransferMode</a></span><span class="default_value"> = &lt;<a href="#TransferMode.NORMAL">TransferMode.NORMAL</a>: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureSettings.transfer_mode"></a>
    
            <div class="docstring"><p>The method to use for transferring frames from the device to the PC. See <code><a href="#TransferMode">TransferMode</a></code> for details.</p>
</div>


                            </div>
                            <div id="ProCaptureSettings.num_lines_per_chunk" class="classattr">
                                <div class="attr variable">
            <span class="name">num_lines_per_chunk</span><span class="annotation">: int</span><span class="default_value"> = 64</span>

        
    </div>
    <a class="headerlink" href="#ProCaptureSettings.num_lines_per_chunk"></a>
    
            <div class="docstring"><p>The number of lines of a frame to transfer at a time (for <code><a href="#TransferMode.LOW_LATENCY">TransferMode.LOW_LATENCY</a></code> transfers).</p>
</div>


                            </div>
                </section>
                <section id="TransferMode">
                            <input id="TransferMode-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TransferMode</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="TransferMode-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TransferMode"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TransferMode-123"><a href="#TransferMode-123"><span class="linenos">123</span></a><span class="k">class</span> <span class="nc">TransferMode</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="TransferMode-124"><a href="#TransferMode-124"><span class="linenos">124</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; Enumeration of the supported methods for triggering the transfer of frames to the PC. &quot;&quot;&quot;</span>
</span><span id="TransferMode-125"><a href="#TransferMode-125"><span class="linenos">125</span></a>    <span class="n">TIMER</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="TransferMode-126"><a href="#TransferMode-126"><span class="linenos">126</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; Transferred are triggered by a software timer event, allowing arbitrary frame rates. This is the only mode</span>
</span><span id="TransferMode-127"><a href="#TransferMode-127"><span class="linenos">127</span></a><span class="sd">        supported by MockProCaptureDevice. &quot;&quot;&quot;</span>
</span><span id="TransferMode-128"><a href="#TransferMode-128"><span class="linenos">128</span></a>    <span class="n">NORMAL</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="TransferMode-129"><a href="#TransferMode-129"><span class="linenos">129</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; Transfers are triggered by a notification received from the device when a whole frame has been received, and</span>
</span><span id="TransferMode-130"><a href="#TransferMode-130"><span class="linenos">130</span></a><span class="sd">    therefore grabbing happens at the source frame rate.&quot;&quot;&quot;</span>
</span><span id="TransferMode-131"><a href="#TransferMode-131"><span class="linenos">131</span></a>    <span class="n">LOW_LATENCY</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="TransferMode-132"><a href="#TransferMode-132"><span class="linenos">132</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; Transfers are triggered by a notification received from the device when the first chunk of a frame has been</span>
</span><span id="TransferMode-133"><a href="#TransferMode-133"><span class="linenos">133</span></a><span class="sd">    received. Grabbing happens at the source frame rate, but with a lower latency.&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Enumeration of the supported methods for triggering the transfer of frames to the PC.</p>
</div>


                            <div id="TransferMode.TIMER" class="classattr">
                                <div class="attr variable">
            <span class="name">TIMER</span><span class="default_value"> = &lt;<a href="#TransferMode.TIMER">TransferMode.TIMER</a>: 0&gt;</span>

        
    </div>
    <a class="headerlink" href="#TransferMode.TIMER"></a>
    
            <div class="docstring"><p>Transferred are triggered by a software timer event, allowing arbitrary frame rates. This is the only mode
supported by MockProCaptureDevice.</p>
</div>


                            </div>
                            <div id="TransferMode.NORMAL" class="classattr">
                                <div class="attr variable">
            <span class="name">NORMAL</span><span class="default_value"> = &lt;<a href="#TransferMode.NORMAL">TransferMode.NORMAL</a>: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#TransferMode.NORMAL"></a>
    
            <div class="docstring"><p>Transfers are triggered by a notification received from the device when a whole frame has been received, and
therefore grabbing happens at the source frame rate.</p>
</div>


                            </div>
                            <div id="TransferMode.LOW_LATENCY" class="classattr">
                                <div class="attr variable">
            <span class="name">LOW_LATENCY</span><span class="default_value"> = &lt;<a href="#TransferMode.LOW_LATENCY">TransferMode.LOW_LATENCY</a>: 2&gt;</span>

        
    </div>
    <a class="headerlink" href="#TransferMode.LOW_LATENCY"></a>
    
            <div class="docstring"><p>Transfers are triggered by a notification received from the device when the first chunk of a frame has been
received. Grabbing happens at the source frame rate, but with a lower latency.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="TransferMode.name" class="variable">name</dd>
                <dd id="TransferMode.value" class="variable">value</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ImageSizeInPixels">
                            <input id="ImageSizeInPixels-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
                    <div class="decorator">@dataclass(frozen=True)</div>

    <span class="def">class</span>
    <span class="name">ImageSizeInPixels</span>:

                <label class="view-source-button" for="ImageSizeInPixels-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ImageSizeInPixels"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ImageSizeInPixels-111"><a href="#ImageSizeInPixels-111"><span class="linenos">111</span></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ImageSizeInPixels-112"><a href="#ImageSizeInPixels-112"><span class="linenos">112</span></a><span class="k">class</span> <span class="nc">ImageSizeInPixels</span><span class="p">:</span>
</span><span id="ImageSizeInPixels-113"><a href="#ImageSizeInPixels-113"><span class="linenos">113</span></a>    <span class="n">cols</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="ImageSizeInPixels-114"><a href="#ImageSizeInPixels-114"><span class="linenos">114</span></a>    <span class="n">rows</span><span class="p">:</span> <span class="nb">int</span>
</span></pre></div>


    

                            <div id="ImageSizeInPixels.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">ImageSizeInPixels</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">cols</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">rows</span><span class="p">:</span> <span class="nb">int</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#ImageSizeInPixels.__init__"></a>
    
    

                            </div>
                </section>
                <section id="ColourFormat">
                            <input id="ColourFormat-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ColourFormat</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="ColourFormat-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ColourFormat"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ColourFormat-59"><a href="#ColourFormat-59"><span class="linenos"> 59</span></a><span class="k">class</span> <span class="nc">ColourFormat</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="ColourFormat-60"><a href="#ColourFormat-60"><span class="linenos"> 60</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; Enumeration of the supported colour formats. &quot;&quot;&quot;</span>
</span><span id="ColourFormat-61"><a href="#ColourFormat-61"><span class="linenos"> 61</span></a>    <span class="n">UNK</span> <span class="o">=</span> <span class="n">MWFOURCC_UNK</span>
</span><span id="ColourFormat-62"><a href="#ColourFormat-62"><span class="linenos"> 62</span></a>    <span class="n">GREY</span> <span class="o">=</span> <span class="n">MWFOURCC_GREY</span>
</span><span id="ColourFormat-63"><a href="#ColourFormat-63"><span class="linenos"> 63</span></a>    <span class="n">Y800</span> <span class="o">=</span> <span class="n">MWFOURCC_Y800</span>
</span><span id="ColourFormat-64"><a href="#ColourFormat-64"><span class="linenos"> 64</span></a>    <span class="n">Y8</span> <span class="o">=</span> <span class="n">MWFOURCC_Y8</span>
</span><span id="ColourFormat-65"><a href="#ColourFormat-65"><span class="linenos"> 65</span></a>    <span class="n">Y16</span> <span class="o">=</span> <span class="n">MWFOURCC_Y16</span>
</span><span id="ColourFormat-66"><a href="#ColourFormat-66"><span class="linenos"> 66</span></a>    <span class="n">RGB15</span> <span class="o">=</span> <span class="n">MWFOURCC_RGB15</span>
</span><span id="ColourFormat-67"><a href="#ColourFormat-67"><span class="linenos"> 67</span></a>    <span class="n">RGB16</span> <span class="o">=</span> <span class="n">MWFOURCC_RGB16</span>
</span><span id="ColourFormat-68"><a href="#ColourFormat-68"><span class="linenos"> 68</span></a>    <span class="n">RGB24</span> <span class="o">=</span> <span class="n">MWFOURCC_RGB24</span>
</span><span id="ColourFormat-69"><a href="#ColourFormat-69"><span class="linenos"> 69</span></a>    <span class="n">RGBA</span> <span class="o">=</span> <span class="n">MWFOURCC_RGBA</span>
</span><span id="ColourFormat-70"><a href="#ColourFormat-70"><span class="linenos"> 70</span></a>    <span class="n">ARGB</span> <span class="o">=</span> <span class="n">MWFOURCC_ARGB</span>
</span><span id="ColourFormat-71"><a href="#ColourFormat-71"><span class="linenos"> 71</span></a>    <span class="n">BGR15</span> <span class="o">=</span> <span class="n">MWFOURCC_BGR15</span>
</span><span id="ColourFormat-72"><a href="#ColourFormat-72"><span class="linenos"> 72</span></a>    <span class="n">BGR16</span> <span class="o">=</span> <span class="n">MWFOURCC_BGR16</span>
</span><span id="ColourFormat-73"><a href="#ColourFormat-73"><span class="linenos"> 73</span></a>    <span class="n">BGR24</span> <span class="o">=</span> <span class="n">MWFOURCC_BGR24</span>
</span><span id="ColourFormat-74"><a href="#ColourFormat-74"><span class="linenos"> 74</span></a>    <span class="n">BGRA</span> <span class="o">=</span> <span class="n">MWFOURCC_BGRA</span>
</span><span id="ColourFormat-75"><a href="#ColourFormat-75"><span class="linenos"> 75</span></a>    <span class="n">ABGR</span> <span class="o">=</span> <span class="n">MWFOURCC_ABGR</span>
</span><span id="ColourFormat-76"><a href="#ColourFormat-76"><span class="linenos"> 76</span></a>    <span class="n">MNV16</span> <span class="o">=</span> <span class="n">MWFOURCC_NV16</span>
</span><span id="ColourFormat-77"><a href="#ColourFormat-77"><span class="linenos"> 77</span></a>    <span class="n">NV61</span> <span class="o">=</span> <span class="n">MWFOURCC_NV61</span>
</span><span id="ColourFormat-78"><a href="#ColourFormat-78"><span class="linenos"> 78</span></a>    <span class="n">I422</span> <span class="o">=</span> <span class="n">MWFOURCC_I422</span>
</span><span id="ColourFormat-79"><a href="#ColourFormat-79"><span class="linenos"> 79</span></a>    <span class="n">YV16</span> <span class="o">=</span> <span class="n">MWFOURCC_YV16</span>
</span><span id="ColourFormat-80"><a href="#ColourFormat-80"><span class="linenos"> 80</span></a>    <span class="n">YUY2</span> <span class="o">=</span> <span class="n">MWFOURCC_YUY2</span>
</span><span id="ColourFormat-81"><a href="#ColourFormat-81"><span class="linenos"> 81</span></a>    <span class="n">YUYV</span> <span class="o">=</span> <span class="n">MWFOURCC_YUYV</span>
</span><span id="ColourFormat-82"><a href="#ColourFormat-82"><span class="linenos"> 82</span></a>    <span class="n">UYVY</span> <span class="o">=</span> <span class="n">MWFOURCC_UYVY</span>
</span><span id="ColourFormat-83"><a href="#ColourFormat-83"><span class="linenos"> 83</span></a>    <span class="n">YVYU</span> <span class="o">=</span> <span class="n">MWFOURCC_YVYU</span>
</span><span id="ColourFormat-84"><a href="#ColourFormat-84"><span class="linenos"> 84</span></a>    <span class="n">VYUY</span> <span class="o">=</span> <span class="n">MWFOURCC_VYUY</span>
</span><span id="ColourFormat-85"><a href="#ColourFormat-85"><span class="linenos"> 85</span></a>    <span class="n">I420</span> <span class="o">=</span> <span class="n">MWFOURCC_I420</span>
</span><span id="ColourFormat-86"><a href="#ColourFormat-86"><span class="linenos"> 86</span></a>    <span class="n">IYUV</span> <span class="o">=</span> <span class="n">MWFOURCC_IYUV</span>
</span><span id="ColourFormat-87"><a href="#ColourFormat-87"><span class="linenos"> 87</span></a>    <span class="n">NV12</span> <span class="o">=</span> <span class="n">MWFOURCC_NV12</span>
</span><span id="ColourFormat-88"><a href="#ColourFormat-88"><span class="linenos"> 88</span></a>    <span class="n">YV12</span> <span class="o">=</span> <span class="n">MWFOURCC_YV12</span>
</span><span id="ColourFormat-89"><a href="#ColourFormat-89"><span class="linenos"> 89</span></a>    <span class="n">NV21</span> <span class="o">=</span> <span class="n">MWFOURCC_NV21</span>
</span><span id="ColourFormat-90"><a href="#ColourFormat-90"><span class="linenos"> 90</span></a>    <span class="n">P010</span> <span class="o">=</span> <span class="n">MWFOURCC_P010</span>
</span><span id="ColourFormat-91"><a href="#ColourFormat-91"><span class="linenos"> 91</span></a>    <span class="n">P210</span> <span class="o">=</span> <span class="n">MWFOURCC_P210</span>
</span><span id="ColourFormat-92"><a href="#ColourFormat-92"><span class="linenos"> 92</span></a>    <span class="n">IYU2</span> <span class="o">=</span> <span class="n">MWFOURCC_IYU2</span>
</span><span id="ColourFormat-93"><a href="#ColourFormat-93"><span class="linenos"> 93</span></a>    <span class="n">V308</span> <span class="o">=</span> <span class="n">MWFOURCC_V308</span>
</span><span id="ColourFormat-94"><a href="#ColourFormat-94"><span class="linenos"> 94</span></a>    <span class="n">AYUV</span> <span class="o">=</span> <span class="n">MWFOURCC_AYUV</span>
</span><span id="ColourFormat-95"><a href="#ColourFormat-95"><span class="linenos"> 95</span></a>    <span class="n">UYVA</span> <span class="o">=</span> <span class="n">MWFOURCC_UYVA</span>
</span><span id="ColourFormat-96"><a href="#ColourFormat-96"><span class="linenos"> 96</span></a>    <span class="n">V408</span> <span class="o">=</span> <span class="n">MWFOURCC_V408</span>
</span><span id="ColourFormat-97"><a href="#ColourFormat-97"><span class="linenos"> 97</span></a>    <span class="n">VYUA</span> <span class="o">=</span> <span class="n">MWFOURCC_VYUA</span>
</span><span id="ColourFormat-98"><a href="#ColourFormat-98"><span class="linenos"> 98</span></a>    <span class="n">V210</span> <span class="o">=</span> <span class="n">MWFOURCC_V210</span>
</span><span id="ColourFormat-99"><a href="#ColourFormat-99"><span class="linenos"> 99</span></a>    <span class="n">Y410</span> <span class="o">=</span> <span class="n">MWFOURCC_Y410</span>
</span><span id="ColourFormat-100"><a href="#ColourFormat-100"><span class="linenos">100</span></a>    <span class="n">V410</span> <span class="o">=</span> <span class="n">MWFOURCC_V410</span>
</span><span id="ColourFormat-101"><a href="#ColourFormat-101"><span class="linenos">101</span></a>    <span class="n">RGB10</span> <span class="o">=</span> <span class="n">MWFOURCC_RGB10</span>
</span><span id="ColourFormat-102"><a href="#ColourFormat-102"><span class="linenos">102</span></a>    <span class="n">BGR10</span> <span class="o">=</span> <span class="n">MWFOURCC_BGR10</span>
</span></pre></div>


            <div class="docstring"><p>Enumeration of the supported colour formats.</p>
</div>


                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="ColourFormat.name" class="variable">name</dd>
                <dd id="ColourFormat.value" class="variable">value</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
</body>
</html>